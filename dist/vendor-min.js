!function(t,e){"use strict";function i(i,n,o,a,l){function h(){_=t.devicePixelRatio>1,o=c(o),n.delay>=0&&setTimeout(function(){u(!0)},n.delay),(n.delay<0||n.combined)&&(a.e=function(t,e){var r,o=0;return function(s,a){function l(){o=+new Date,e.call(i,s)}var h=+new Date-o;r&&clearTimeout(r),h>t||!n.enableThrottle||a?l():r=setTimeout(l,t-h)}}(n.throttle,function(t){"resize"===t.type&&(w=C=-1),u(t.all)}),a.a=function(t){t=c(t),o.push.apply(o,t)},a.g=function(){return o=r(o).filter(function(){return!r(this).data(n.loadedName)})},a.f=function(t){for(var e=0;e<t.length;e++){var i=o.filter(function(){return this===t[e]});i.length&&u(!1,i)}},u(),r(n.appendScroll).on("scroll."+l+" resize."+l,a.e))}function c(t){for(var o=n.defaultImage,s=n.placeholder,a=n.imageBase,l=n.srcsetAttribute,h=n.loaderAttribute,c=n._f||{},u=0,d=(t=r(t).filter(function(){var t=r(this),i=m(this);return!t.data(n.handledName)&&(t.attr(n.attribute)||t.attr(l)||t.attr(h)||c[i]!==e)}).data("plugin_"+n.name,i)).length;u<d;u++){var f=r(t[u]),p=m(t[u]),g=f.attr(n.imageBaseAttribute)||a;p===I&&g&&f.attr(l)&&f.attr(l,v(f.attr(l),g)),c[p]===e||f.attr(h)||f.attr(h,c[p]),p===I&&o&&!f.attr(A)?f.attr(A,o):p===I||!s||f.css(O)&&"none"!==f.css(O)||f.css(O,"url('"+s+"')")}return t}function u(t,e){if(o.length){for(var s=e||o,a=!1,l=n.imageBase||"",h=n.srcsetAttribute,c=n.handledName,u=0;u<s.length;u++)if(t||e||f(s[u])){var p=r(s[u]),g=m(s[u]),v=p.attr(n.attribute),y=p.attr(n.imageBaseAttribute)||l,x=p.attr(n.loaderAttribute);p.data(c)||n.visibleOnly&&!p.is(":visible")||!((v||p.attr(h))&&(g===I&&(y+v!==p.attr(A)||p.attr(h)!==p.attr(B))||g!==I&&y+v!==p.css(O))||x)||(a=!0,p.data(c,!0),d(p,g,y,x))}a&&(o=r(o).filter(function(){return!r(this).data(c)}))}else n.autoDestroy&&i.destroy()}function d(t,e,i,o){++b;var s=function(){x("onError",t),y(),s=r.noop};x("beforeLoad",t);var a=n.attribute,l=n.srcsetAttribute,h=n.sizesAttribute,c=n.retinaAttribute,u=n.removeAttribute,d=n.loadedName,f=t.attr(c);if(o){var p=function(){u&&t.removeAttr(n.loaderAttribute),t.data(d,!0),x(T,t),setTimeout(y,1),p=r.noop};t.off(S).one(S,s).one(k,p),x(o,t,function(e){e?(t.off(k),p()):(t.off(S),s())})||t.trigger(S)}else{var g=r(new Image);g.one(S,s).one(k,function(){t.hide(),e===I?t.attr(N,g.attr(N)).attr(B,g.attr(B)).attr(A,g.attr(A)):t.css(O,"url('"+g.attr(A)+"')"),t[n.effect](n.effectTime),u&&(t.removeAttr(a+" "+l+" "+c+" "+n.imageBaseAttribute),h!==N&&t.removeAttr(h)),t.data(d,!0),x(T,t),g.remove(),y()});var m=(_&&f?f:t.attr(a))||"";g.attr(N,t.attr(h)).attr(B,t.attr(l)).attr(A,m?i+m:null),g.complete&&g.trigger(k)}}function f(t){var e=t.getBoundingClientRect(),i=n.scrollDirection,r=n.threshold,o=g()+r>e.top&&-r<e.bottom,s=p()+r>e.left&&-r<e.right;return"vertical"===i?o:"horizontal"===i?s:o&&s}function p(){return w>=0?w:w=r(t).width()}function g(){return C>=0?C:C=r(t).height()}function m(t){return t.tagName.toLowerCase()}function v(t,e){if(e){var i=t.split(",");t="";for(var n=0,r=i.length;n<r;n++)t+=e+i[n].trim()+(n!==r-1?",":"")}return t}function y(){--b,o.length||b||x("onFinishedAll")}function x(t,e,r){return!!(t=n[t])&&(t.apply(i,[].slice.call(arguments,1)),!0)}var b=0,w=-1,C=-1,_=!1,T="afterLoad",k="load",S="error",I="img",A="src",B="srcset",N="sizes",O="background-image";"event"===n.bind||s?h():r(t).on(k+"."+l,h)}function n(n,s){var a=this,l=r.extend({},a.config,s),h={},c=l.name+"-"+ ++o;return a.config=function(t,i){return i===e?l[t]:(l[t]=i,a)},a.addItems=function(t){return h.a&&h.a("string"===r.type(t)?r(t):t),a},a.getItems=function(){return h.g?h.g():{}},a.update=function(t){return h.e&&h.e({},!t),a},a.force=function(t){return h.f&&h.f("string"===r.type(t)?r(t):t),a},a.loadAll=function(){return h.e&&h.e({all:!0},!0),a},a.destroy=function(){return r(l.appendScroll).off("."+c,h.e),r(t).off("."+c),h={},e},i(a,l,n,h,c),l.chainable?n:a}var r=t.jQuery||t.Zepto,o=0,s=!1;r.fn.Lazy=r.fn.lazy=function(t){return new n(this,t)},r.Lazy=r.lazy=function(t,i,o){if(r.isFunction(i)&&(o=i,i=[]),r.isFunction(o)){t=r.isArray(t)?t:[t],i=r.isArray(i)?i:[i];for(var s=n.prototype.config,a=s._f||(s._f={}),l=0,h=t.length;l<h;l++)(s[t[l]]===e||r.isFunction(s[t[l]]))&&(s[t[l]]=o);for(var c=0,u=i.length;c<u;c++)a[i[c]]=t[0]}},n.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:t,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:e,afterLoad:e,onError:e,onFinishedAll:e},r(t).on("load",function(){s=!0})}(window),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(window.jQuery||window.Zepto)}(function(t){var e,i,n,r,o,s,a=function(){},l=!!window.jQuery,h=t(window),c=function(t,i){e.ev.on("mfp"+t+".mfp",i)},u=function(e,i,n,r){var o=document.createElement("div");return o.className="mfp-"+e,n&&(o.innerHTML=n),r?i&&i.appendChild(o):(o=t(o),i&&o.appendTo(i)),o},d=function(i,n){e.ev.triggerHandler("mfp"+i,n),e.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),e.st.callbacks[i]&&e.st.callbacks[i].apply(e,t.isArray(n)?n:[n]))},f=function(i){return i===s&&e.currTemplate.closeBtn||(e.currTemplate.closeBtn=t(e.st.closeMarkup.replace("%title%",e.st.tClose)),s=i),e.currTemplate.closeBtn},p=function(){t.magnificPopup.instance||((e=new a).init(),t.magnificPopup.instance=e)};a.prototype={constructor:a,init:function(){var i=navigator.appVersion;e.isIE7=-1!==i.indexOf("MSIE 7."),e.isIE8=-1!==i.indexOf("MSIE 8."),e.isLowIE=e.isIE7||e.isIE8,e.isAndroid=/android/gi.test(i),e.isIOS=/iphone|ipad|ipod/gi.test(i),e.supportsTransition=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1}(),e.probablyMobile=e.isAndroid||e.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),n=t(document),e.popupsCache={}},open:function(i){var r;if(!1===i.isObj){e.items=i.items.toArray(),e.index=0;var s,a=i.items;for(r=0;r<a.length;r++)if((s=a[r]).parsed&&(s=s.el[0]),s===i.el[0]){e.index=r;break}}else e.items=t.isArray(i.items)?i.items:[i.items],e.index=i.index||0;if(!e.isOpen){e.types=[],o="",i.mainEl&&i.mainEl.length?e.ev=i.mainEl.eq(0):e.ev=n,i.key?(e.popupsCache[i.key]||(e.popupsCache[i.key]={}),e.currTemplate=e.popupsCache[i.key]):e.currTemplate={},e.st=t.extend(!0,{},t.magnificPopup.defaults,i),e.fixedContentPos="auto"===e.st.fixedContentPos?!e.probablyMobile:e.st.fixedContentPos,e.st.modal&&(e.st.closeOnContentClick=!1,e.st.closeOnBgClick=!1,e.st.showCloseBtn=!1,e.st.enableEscapeKey=!1),e.bgOverlay||(e.bgOverlay=u("bg").on("click.mfp",function(){e.close()}),e.wrap=u("wrap").attr("tabindex",-1).on("click.mfp",function(t){e._checkIfClose(t.target)&&e.close()}),e.container=u("container",e.wrap)),e.contentContainer=u("content"),e.st.preloader&&(e.preloader=u("preloader",e.container,e.st.tLoading));var l=t.magnificPopup.modules;for(r=0;r<l.length;r++){var p=l[r];p=p.charAt(0).toUpperCase()+p.slice(1),e["init"+p].call(e)}d("BeforeOpen"),e.st.showCloseBtn&&(e.st.closeBtnInside?(c("MarkupParse",function(t,e,i,n){i.close_replaceWith=f(n.type)}),o+=" mfp-close-btn-in"):e.wrap.append(f())),e.st.alignTop&&(o+=" mfp-align-top"),e.fixedContentPos?e.wrap.css({overflow:e.st.overflowY,overflowX:"hidden",overflowY:e.st.overflowY}):e.wrap.css({top:h.scrollTop(),position:"absolute"}),(!1===e.st.fixedBgPos||"auto"===e.st.fixedBgPos&&!e.fixedContentPos)&&e.bgOverlay.css({height:n.height(),position:"absolute"}),e.st.enableEscapeKey&&n.on("keyup.mfp",function(t){27===t.keyCode&&e.close()}),h.on("resize.mfp",function(){e.updateSize()}),e.st.closeOnContentClick||(o+=" mfp-auto-cursor"),o&&e.wrap.addClass(o);var g=e.wH=h.height(),m={};if(e.fixedContentPos&&e._hasScrollBar(g)){var v=e._getScrollbarSize();v&&(m.marginRight=v)}e.fixedContentPos&&(e.isIE7?t("body, html").css("overflow","hidden"):m.overflow="hidden");var y=e.st.mainClass;return e.isIE7&&(y+=" mfp-ie7"),y&&e._addClassToMFP(y),e.updateItemHTML(),d("BuildControls"),t("html").css(m),e.bgOverlay.add(e.wrap).prependTo(e.st.prependTo||t(document.body)),e._lastFocusedEl=document.activeElement,setTimeout(function(){e.content?(e._addClassToMFP("mfp-ready"),e._setFocus()):e.bgOverlay.addClass("mfp-ready"),n.on("focusin.mfp",e._onFocusIn)},16),e.isOpen=!0,e.updateSize(g),d("Open"),i}e.updateItemHTML()},close:function(){e.isOpen&&(d("BeforeClose"),e.isOpen=!1,e.st.removalDelay&&!e.isLowIE&&e.supportsTransition?(e._addClassToMFP("mfp-removing"),setTimeout(function(){e._close()},e.st.removalDelay)):e._close())},_close:function(){d("Close");var i="mfp-removing mfp-ready ";if(e.bgOverlay.detach(),e.wrap.detach(),e.container.empty(),e.st.mainClass&&(i+=e.st.mainClass+" "),e._removeClassFromMFP(i),e.fixedContentPos){var r={marginRight:""};e.isIE7?t("body, html").css("overflow",""):r.overflow="",t("html").css(r)}n.off("keyup.mfp focusin.mfp"),e.ev.off(".mfp"),e.wrap.attr("class","mfp-wrap").removeAttr("style"),e.bgOverlay.attr("class","mfp-bg"),e.container.attr("class","mfp-container"),!e.st.showCloseBtn||e.st.closeBtnInside&&!0!==e.currTemplate[e.currItem.type]||e.currTemplate.closeBtn&&e.currTemplate.closeBtn.detach(),e._lastFocusedEl&&t(e._lastFocusedEl).focus(),e.currItem=null,e.content=null,e.currTemplate=null,e.prevHeight=0,d("AfterClose")},updateSize:function(t){if(e.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*i;e.wrap.css("height",n),e.wH=n}else e.wH=t||h.height();e.fixedContentPos||e.wrap.css("height",e.wH),d("Resize")},updateItemHTML:function(){var i=e.items[e.index];e.contentContainer.detach(),e.content&&e.content.detach(),i.parsed||(i=e.parseEl(e.index));var n=i.type;if(d("BeforeChange",[e.currItem?e.currItem.type:"",n]),e.currItem=i,!e.currTemplate[n]){var o=!!e.st[n]&&e.st[n].markup;d("FirstMarkupParse",o),e.currTemplate[n]=!o||t(o)}r&&r!==i.type&&e.container.removeClass("mfp-"+r+"-holder");var s=e["get"+n.charAt(0).toUpperCase()+n.slice(1)](i,e.currTemplate[n]);e.appendContent(s,n),i.preloaded=!0,d("Change",i),r=i.type,e.container.prepend(e.contentContainer),d("AfterChange")},appendContent:function(t,i){e.content=t,t?e.st.showCloseBtn&&e.st.closeBtnInside&&!0===e.currTemplate[i]?e.content.find(".mfp-close").length||e.content.append(f()):e.content=t:e.content="",d("BeforeAppend"),e.container.addClass("mfp-"+i+"-holder"),e.contentContainer.append(e.content)},parseEl:function(i){var n,r=e.items[i];if(r.tagName?r={el:t(r)}:(n=r.type,r={data:r,src:r.src}),r.el){for(var o=e.types,s=0;s<o.length;s++)if(r.el.hasClass("mfp-"+o[s])){n=o[s];break}r.src=r.el.attr("data-mfp-src"),r.src||(r.src=r.el.attr("href"))}return r.type=n||e.st.type||"inline",r.index=i,r.parsed=!0,e.items[i]=r,d("ElementParse",r),e.items[i]},addGroup:function(t,i){var n=function(n){n.mfpEl=this,e._openClick(n,t,i)};i||(i={});var r="click.magnificPopup";i.mainEl=t,i.items?(i.isObj=!0,t.off(r).on(r,n)):(i.isObj=!1,i.delegate?t.off(r).on(r,i.delegate,n):(i.items=t,t.off(r).on(r,n)))},_openClick:function(i,n,r){if((void 0!==r.midClick?r.midClick:t.magnificPopup.defaults.midClick)||!(2===i.which||i.ctrlKey||i.metaKey||i.altKey||i.shiftKey)){var o=void 0!==r.disableOn?r.disableOn:t.magnificPopup.defaults.disableOn;if(o)if(t.isFunction(o)){if(!o.call(e))return!0}else if(h.width()<o)return!0;i.type&&(i.preventDefault(),e.isOpen&&i.stopPropagation()),r.el=t(i.mfpEl),r.delegate&&(r.items=n.find(r.delegate)),e.open(r)}},updateStatus:function(t,n){if(e.preloader){i!==t&&e.container.removeClass("mfp-s-"+i),n||"loading"!==t||(n=e.st.tLoading);var r={status:t,text:n};d("UpdateStatus",r),t=r.status,n=r.text,e.preloader.html(n),e.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),e.container.addClass("mfp-s-"+t),i=t}},_checkIfClose:function(i){if(!t(i).hasClass("mfp-prevent-close")){var n=e.st.closeOnContentClick,r=e.st.closeOnBgClick;if(n&&r)return!0;if(!e.content||t(i).hasClass("mfp-close")||e.preloader&&i===e.preloader[0])return!0;if(i===e.content[0]||t.contains(e.content[0],i)){if(n)return!0}else if(r&&t.contains(document,i))return!0;return!1}},_addClassToMFP:function(t){e.bgOverlay.addClass(t),e.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),e.wrap.removeClass(t)},_hasScrollBar:function(t){return(e.isIE7?n.height():document.body.scrollHeight)>(t||h.height())},_setFocus:function(){(e.st.focus?e.content.find(e.st.focus).eq(0):e.wrap).focus()},_onFocusIn:function(i){if(i.target!==e.wrap[0]&&!t.contains(e.wrap[0],i.target))return e._setFocus(),!1},_parseMarkup:function(e,i,n){var r;n.data&&(i=t.extend(n.data,i)),d("MarkupParse",[e,i,n]),t.each(i,function(t,i){if(void 0===i||!1===i)return!0;if((r=t.split("_")).length>1){var n=e.find(".mfp-"+r[0]);if(n.length>0){var o=r[1];"replaceWith"===o?n[0]!==i[0]&&n.replaceWith(i):"img"===o?n.is("img")?n.attr("src",i):n.replaceWith('<img src="'+i+'" class="'+n.attr("class")+'" />'):n.attr(r[1],i)}}else e.find(".mfp-"+t).html(i)})},_getScrollbarSize:function(){if(void 0===e.scrollbarSize){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),e.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return e.scrollbarSize}},t.magnificPopup={instance:null,proto:a.prototype,modules:[],open:function(e,i){return p(),(e=e?t.extend(!0,{},e):{}).isObj=!0,e.index=i||0,this.instance.open(e)},close:function(){return t.magnificPopup.instance&&t.magnificPopup.instance.close()},registerModule:function(e,i){i.options&&(t.magnificPopup.defaults[e]=i.options),t.extend(this.proto,i.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:!0,fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},t.fn.magnificPopup=function(i){p();var n=t(this);if("string"==typeof i)if("open"===i){var r,o=l?n.data("magnificPopup"):n[0].magnificPopup,s=parseInt(arguments[1],10)||0;o.items?r=o.items[s]:(r=n,o.delegate&&(r=r.find(o.delegate)),r=r.eq(s)),e._openClick({mfpEl:r},n,o)}else e.isOpen&&e[i].apply(e,Array.prototype.slice.call(arguments,1));else i=t.extend(!0,{},i),l?n.data("magnificPopup",i):n[0].magnificPopup=i,e.addGroup(n,i);return n};var g,m,v,y=function(){v&&(m.after(v.addClass(g)).detach(),v=null)};t.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){e.types.push("inline"),c("Close.inline",function(){y()})},getInline:function(i,n){if(y(),i.src){var r=e.st.inline,o=t(i.src);if(o.length){var s=o[0].parentNode;s&&s.tagName&&(m||(g=r.hiddenClass,m=u(g),g="mfp-"+g),v=o.after(m).detach().removeClass(g)),e.updateStatus("ready")}else e.updateStatus("error",r.tNotFound),o=t("<div>");return i.inlineElement=o,o}return e.updateStatus("ready"),e._parseMarkup(n,{},i),n}}});var x,b=function(){x&&t(document.body).removeClass(x)},w=function(){b(),e.req&&e.req.abort()};t.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){e.types.push("ajax"),x=e.st.ajax.cursor,c("Close.ajax",w),c("BeforeChange.ajax",w)},getAjax:function(i){x&&t(document.body).addClass(x),e.updateStatus("loading");var n=t.extend({url:i.src,success:function(n,r,o){var s={data:n,xhr:o};d("ParseAjax",s),e.appendContent(t(s.data),"ajax"),i.finished=!0,b(),e._setFocus(),setTimeout(function(){e.wrap.addClass("mfp-ready")},16),e.updateStatus("ready"),d("AjaxContentAdded")},error:function(){b(),i.finished=i.loadError=!0,e.updateStatus("error",e.st.ajax.tError.replace("%url%",i.src))}},e.st.ajax.settings);return e.req=t.ajax(n),""}}});var C,_=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var n=e.st.image.titleSrc;if(n){if(t.isFunction(n))return n.call(e,i);if(i.el)return i.el.attr(n)||""}return""};t.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var i=e.st.image,n=".image";e.types.push("image"),c("Open"+n,function(){"image"===e.currItem.type&&i.cursor&&t(document.body).addClass(i.cursor)}),c("Close"+n,function(){i.cursor&&t(document.body).removeClass(i.cursor),h.off("resize.mfp")}),c("Resize"+n,e.resizeImage),e.isLowIE&&c("AfterChange",e.resizeImage)},resizeImage:function(){var t=e.currItem;if(t&&t.img&&e.st.image.verticalFit){var i=0;e.isLowIE&&(i=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",e.wH-i)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,C&&clearInterval(C),t.isCheckingImgSize=!1,d("ImageHasSize",t),t.imgHidden&&(e.content&&e.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(t){var i=0,n=t.img[0],r=function(o){C&&clearInterval(C),C=setInterval(function(){n.naturalWidth>0?e._onImageHasSize(t):(i>200&&clearInterval(C),3===++i?r(10):40===i?r(50):100===i&&r(500))},o)};r(1)},getImage:function(i,n){var r=0,o=function(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===e.currItem&&(e._onImageHasSize(i),e.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,d("ImageLoadComplete")):++r<200?setTimeout(o,100):s())},s=function(){i&&(i.img.off(".mfploader"),i===e.currItem&&(e._onImageHasSize(i),e.updateStatus("error",a.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)},a=e.st.image,l=n.find(".mfp-img");if(l.length){var h=document.createElement("img");h.className="mfp-img",i.el&&i.el.find("img").length&&(h.alt=i.el.find("img").attr("alt")),i.img=t(h).on("load.mfploader",o).on("error.mfploader",s),h.src=i.src,l.is("img")&&(i.img=i.img.clone()),(h=i.img[0]).naturalWidth>0?i.hasSize=!0:h.width||(i.hasSize=!1)}return e._parseMarkup(n,{title:_(i),img_replaceWith:i.img},i),e.resizeImage(),i.hasSize?(C&&clearInterval(C),i.loadError?(n.addClass("mfp-loading"),e.updateStatus("error",a.tError.replace("%url%",i.src))):(n.removeClass("mfp-loading"),e.updateStatus("ready")),n):(e.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,n.addClass("mfp-loading"),e.findImageSize(i)),n)}}});var T;t.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,i=e.st.zoom,n=".zoom";if(i.enabled&&e.supportsTransition){var r,o,s=i.duration,a=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+i.duration/1e3+"s "+i.easing,r={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return r["-webkit-"+o]=r["-moz-"+o]=r["-o-"+o]=r[o]=n,e.css(r),e},l=function(){e.content.css("visibility","visible")};c("BuildControls"+n,function(){if(e._allowZoom()){if(clearTimeout(r),e.content.css("visibility","hidden"),!(t=e._getItemToZoom()))return void l();(o=a(t)).css(e._getOffset()),e.wrap.append(o),r=setTimeout(function(){o.css(e._getOffset(!0)),r=setTimeout(function(){l(),setTimeout(function(){o.remove(),t=o=null,d("ZoomAnimationEnded")},16)},s)},16)}}),c("BeforeClose"+n,function(){if(e._allowZoom()){if(clearTimeout(r),e.st.removalDelay=s,!t){if(!(t=e._getItemToZoom()))return;o=a(t)}o.css(e._getOffset(!0)),e.wrap.append(o),e.content.css("visibility","hidden"),setTimeout(function(){o.css(e._getOffset())},16)}}),c("Close"+n,function(){e._allowZoom()&&(l(),o&&o.remove(),t=null)})}},_allowZoom:function(){return"image"===e.currItem.type},_getItemToZoom:function(){return!!e.currItem.hasSize&&e.currItem.img},_getOffset:function(i){var n,r=(n=i?e.currItem.img:e.st.zoom.opener(e.currItem.el||e.currItem)).offset(),o=parseInt(n.css("padding-top"),10),s=parseInt(n.css("padding-bottom"),10);r.top-=t(window).scrollTop()-o;var a={width:n.width(),height:(l?n.innerHeight():n[0].offsetHeight)-s-o};return void 0===T&&(T=void 0!==document.createElement("p").style.MozTransform),T?a["-moz-transform"]=a.transform="translate("+r.left+"px,"+r.top+"px)":(a.left=r.left,a.top=r.top),a}}});var k=function(t){if(e.currTemplate.iframe){var i=e.currTemplate.iframe.find("iframe");i.length&&(t||(i[0].src="//about:blank"),e.isIE8&&i.css("display",t?"block":"none"))}};t.magnificPopup.registerModule("iframe",{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){e.types.push("iframe"),c("BeforeChange",function(t,e,i){e!==i&&("iframe"===e?k():"iframe"===i&&k(!0))}),c("Close.iframe",function(){k()})},getIframe:function(i,n){var r=i.src,o=e.st.iframe;t.each(o.patterns,function(){if(r.indexOf(this.index)>-1)return this.id&&(r="string"==typeof this.id?r.substr(r.lastIndexOf(this.id)+this.id.length,r.length):this.id.call(this,r)),r=this.src.replace("%id%",r),!1});var s={};return o.srcAction&&(s[o.srcAction]=r),e._parseMarkup(n,s,i),e.updateStatus("ready"),n}}});var S=function(t){var i=e.items.length;return t>i-1?t-i:t<0?i+t:t},I=function(t,e,i){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,i)};t.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=e.st.gallery,r=".mfp-gallery",s=Boolean(t.fn.mfpFastClick);if(e.direction=!0,!i||!i.enabled)return!1;o+=" mfp-gallery",c("Open"+r,function(){i.navigateByImgClick&&e.wrap.on("click"+r,".mfp-img",function(){if(e.items.length>1)return e.next(),!1}),n.on("keydown"+r,function(t){37===t.keyCode?e.prev():39===t.keyCode&&e.next()})}),c("UpdateStatus"+r,function(t,i){i.text&&(i.text=I(i.text,e.currItem.index,e.items.length))}),c("MarkupParse"+r,function(t,n,r,o){var s=e.items.length;r.counter=s>1?I(i.tCounter,o.index,s):""}),c("BuildControls"+r,function(){if(e.items.length>1&&i.arrows&&!e.arrowLeft){var n=i.arrowMarkup,r=e.arrowLeft=t(n.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass("mfp-prevent-close"),o=e.arrowRight=t(n.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass("mfp-prevent-close"),a=s?"mfpFastClick":"click";r[a](function(){e.prev()}),o[a](function(){e.next()}),e.isIE7&&(u("b",r[0],!1,!0),u("a",r[0],!1,!0),u("b",o[0],!1,!0),u("a",o[0],!1,!0)),e.container.append(r.add(o))}}),c("Change"+r,function(){e._preloadTimeout&&clearTimeout(e._preloadTimeout),e._preloadTimeout=setTimeout(function(){e.preloadNearbyImages(),e._preloadTimeout=null},16)}),c("Close"+r,function(){n.off(r),e.wrap.off("click"+r),e.arrowLeft&&s&&e.arrowLeft.add(e.arrowRight).destroyMfpFastClick(),e.arrowRight=e.arrowLeft=null})},next:function(){e.direction=!0,e.index=S(e.index+1),e.updateItemHTML()},prev:function(){e.direction=!1,e.index=S(e.index-1),e.updateItemHTML()},goTo:function(t){e.direction=t>=e.index,e.index=t,e.updateItemHTML()},preloadNearbyImages:function(){var t,i=e.st.gallery.preload,n=Math.min(i[0],e.items.length),r=Math.min(i[1],e.items.length);for(t=1;t<=(e.direction?r:n);t++)e._preloadItem(e.index+t);for(t=1;t<=(e.direction?n:r);t++)e._preloadItem(e.index-t)},_preloadItem:function(i){if(i=S(i),!e.items[i].preloaded){var n=e.items[i];n.parsed||(n=e.parseEl(i)),d("LazyLoad",n),"image"===n.type&&(n.img=t('<img class="mfp-img" />').on("load.mfploader",function(){n.hasSize=!0}).on("error.mfploader",function(){n.hasSize=!0,n.loadError=!0,d("LazyLoadError",n)}).attr("src",n.src)),n.preloaded=!0}}}});var A,B,N;t.magnificPopup.registerModule("retina",{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,function(t){return"@2x"+t})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var t=e.st.retina,i=t.ratio;(i=isNaN(i)?i():i)>1&&(c("ImageHasSize.retina",function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/i,width:"100%"})}),c("ElementParse.retina",function(e,n){n.src=t.replaceSrc(n,i)}))}}}}),A="ontouchstart"in window,B=function(){h.off("touchmove"+N+" touchend"+N)},N=".mfpFastClick",t.fn.mfpFastClick=function(e){return t(this).each(function(){var i,n,r,o,s,a,l,c=t(this);A&&c.on("touchstart"+N,function(t){s=!1,l=1,a=t.originalEvent?t.originalEvent.touches[0]:t.touches[0],r=a.clientX,o=a.clientY,h.on("touchmove"+N,function(t){a=t.originalEvent?t.originalEvent.touches:t.touches,l=a.length,a=a[0],(Math.abs(a.clientX-r)>10||Math.abs(a.clientY-o)>10)&&(s=!0,B())}).on("touchend"+N,function(t){B(),s||l>1||(i=!0,t.preventDefault(),clearTimeout(n),n=setTimeout(function(){i=!1},1e3),e())})}),c.on("click"+N,function(){i||e()})})},t.fn.destroyMfpFastClick=function(){t(this).off("touchstart"+N+" click"+N),A&&h.off("touchmove"+N+" touchend"+N)},p()}),function(t,e,i){"function"==typeof define&&define.amd?define(["jquery"],function(n){return i(n,t,e),n.mobile}):i(t.jQuery,t,e)}(this,document,function(t,e,i,n){var r,o;!function(t,e,i,n){var r,o,s="virtualMouseBindings",a="virtualTouchID",l="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),h="clientX clientY pageX pageY screenX screenY".split(" "),c=t.event.mouseHooks?t.event.mouseHooks.props:[],u=t.event.props.concat(c),d={},f=0,p=0,g=0,m=!1,v=[],y=!1,x=!1,b="addEventListener"in i,w=t(i),C=1,_=0;function T(t){for(;t&&void 0!==t.originalEvent;)t=t.originalEvent;return t}function k(e){for(var i,n,r={};e;){for(n in i=t.data(e,s))i[n]&&(r[n]=r.hasVirtualBinding=!0);e=e.parentNode}return r}function S(){x=!0}function I(){x=!1}function A(){B(),f=setTimeout(function(){f=0,_=0,v.length=0,y=!1,S()},t.vmouse.resetTimerDuration)}function B(){f&&(clearTimeout(f),f=0)}function N(e,i,r){var o;return(r&&r[e]||!r&&function(e,i){for(var n;e;){if((n=t.data(e,s))&&(!i||n[i]))return e;e=e.parentNode}return null}(i.target,e))&&(o=function(e,i){var r,o,s,a,l,c,d,f,p,g=e.type;if((e=t.Event(e)).type=i,r=e.originalEvent,o=t.event.props,g.search(/^(mouse|click)/)>-1&&(o=u),r)for(d=o.length;d;)e[a=o[--d]]=r[a];if(g.search(/mouse(down|up)|click/)>-1&&!e.which&&(e.which=1),-1!==g.search(/^touch/)&&(g=(s=T(r)).touches,l=s.changedTouches,c=g&&g.length?g[0]:l&&l.length?l[0]:n))for(f=0,p=h.length;f<p;f++)e[a=h[f]]=c[a];return e}(i,e),t(i.target).trigger(o)),o}function O(e){var i,n=t.data(e.target,a);y||_&&_===n||(i=N("v"+e.type,e))&&(i.isDefaultPrevented()&&e.preventDefault(),i.isPropagationStopped()&&e.stopPropagation(),i.isImmediatePropagationStopped()&&e.stopImmediatePropagation())}function M(e){var i,n,r,o=T(e).touches;o&&1===o.length&&(n=k(i=e.target)).hasVirtualBinding&&(_=C++,t.data(i,a,_),B(),I(),m=!1,r=T(e).touches[0],p=r.pageX,g=r.pageY,N("vmouseover",e,n),N("vmousedown",e,n))}function E(t){x||(m||N("vmousecancel",t,k(t.target)),m=!0,A())}function P(e){if(!x){var i=T(e).touches[0],n=m,r=t.vmouse.moveDistanceThreshold,o=k(e.target);(m=m||Math.abs(i.pageX-p)>r||Math.abs(i.pageY-g)>r)&&!n&&N("vmousecancel",e,o),N("vmousemove",e,o),A()}}function L(t){if(!x){S();var e,i,n=k(t.target);N("vmouseup",t,n),m||(e=N("vclick",t,n))&&e.isDefaultPrevented()&&(i=T(t).changedTouches[0],v.push({touchID:_,x:i.clientX,y:i.clientY}),y=!0),N("vmouseout",t,n),m=!1,A()}}function $(e){var i,n=t.data(e,s);if(n)for(i in n)if(n[i])return!0;return!1}function F(){}function D(e){var i=e.substr(1);return{setup:function(){$(this)||t.data(this,s,{}),t.data(this,s)[e]=!0,d[e]=(d[e]||0)+1,1===d[e]&&w.bind(i,O),t(this).bind(i,F),b&&(d.touchstart=(d.touchstart||0)+1,1===d.touchstart&&w.bind("touchstart",M).bind("touchend",L).bind("touchmove",P).bind("scroll",E))},teardown:function(){--d[e],d[e]||w.unbind(i,O),b&&(--d.touchstart,d.touchstart||w.unbind("touchstart",M).unbind("touchmove",P).unbind("touchend",L).unbind("scroll",E));var n=t(this),r=t.data(this,s);r&&(r[e]=!1),n.unbind(i,F),$(this)||n.removeData(s)}}}for(t.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},o=0;o<l.length;o++)t.event.special[l[o]]=D(l[o]);b&&i.addEventListener("click",function(e){var i,n,o,s,l,h=v.length,c=e.target;if(h)for(i=e.clientX,n=e.clientY,r=t.vmouse.clickDistanceThreshold,o=c;o;){for(s=0;s<h;s++)if(l=v[s],0,o===c&&Math.abs(l.x-i)<r&&Math.abs(l.y-n)<r||t.data(o,a)===l.touchID)return e.preventDefault(),void e.stopPropagation();o=o.parentNode}},!0)}(t,0,i),t.mobile={},o={touch:"ontouchend"in i},(r=t).mobile.support=r.mobile.support||{},r.extend(r.support,o),r.extend(r.mobile.support,o),function(t,e,n){var r=t(i),o=t.mobile.support.touch,s=o?"touchstart":"mousedown",a=o?"touchend":"mouseup",l=o?"touchmove":"mousemove";function h(e,i,r,o){var s=r.type;r.type=i,o?t.event.trigger(r,n,e):t.event.dispatch.call(e,r),r.type=s}t.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(e,i){t.fn[i]=function(t){return t?this.bind(i,t):this.trigger(i)},t.attrFn&&(t.attrFn[i]=!0)}),t.event.special.scrollstart={enabled:!0,setup:function(){var e,i,n=this;function r(t,i){h(n,(e=i)?"scrollstart":"scrollstop",t)}t(n).bind("touchmove scroll",function(n){t.event.special.scrollstart.enabled&&(e||r(n,!0),clearTimeout(i),i=setTimeout(function(){r(n,!1)},50))})},teardown:function(){t(this).unbind("touchmove scroll")}},t.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var e=this,i=t(e),n=!1;i.bind("vmousedown",function(o){if(n=!1,o.which&&1!==o.which)return!1;var s,a=o.target;function l(){clearTimeout(s)}function c(){l(),i.unbind("vclick",u).unbind("vmouseup",l),r.unbind("vmousecancel",c)}function u(t){c(),n||a!==t.target?n&&t.preventDefault():h(e,"tap",t)}i.bind("vmouseup",l).bind("vclick",u),r.bind("vmousecancel",c),s=setTimeout(function(){t.event.special.tap.emitTapOnTaphold||(n=!0),h(e,"taphold",t.Event("taphold",{target:a}))},t.event.special.tap.tapholdThreshold)})},teardown:function(){t(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),r.unbind("vmousecancel")}},t.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(t){var i=e.pageXOffset,n=e.pageYOffset,r=t.clientX,o=t.clientY;return 0===t.pageY&&Math.floor(o)>Math.floor(t.pageY)||0===t.pageX&&Math.floor(r)>Math.floor(t.pageX)?(r-=i,o-=n):(o<t.pageY-n||r<t.pageX-i)&&(r=t.pageX-i,o=t.pageY-n),{x:r,y:o}},start:function(e){var i=e.originalEvent.touches?e.originalEvent.touches[0]:e,n=t.event.special.swipe.getLocation(i);return{time:(new Date).getTime(),coords:[n.x,n.y],origin:t(e.target)}},stop:function(e){var i=e.originalEvent.touches?e.originalEvent.touches[0]:e,n=t.event.special.swipe.getLocation(i);return{time:(new Date).getTime(),coords:[n.x,n.y]}},handleSwipe:function(e,i,n,r){if(i.time-e.time<t.event.special.swipe.durationThreshold&&Math.abs(e.coords[0]-i.coords[0])>t.event.special.swipe.horizontalDistanceThreshold&&Math.abs(e.coords[1]-i.coords[1])<t.event.special.swipe.verticalDistanceThreshold){var o=e.coords[0]>i.coords[0]?"swipeleft":"swiperight";return h(n,"swipe",t.Event("swipe",{target:r,swipestart:e,swipestop:i}),!0),h(n,o,t.Event(o,{target:r,swipestart:e,swipestop:i}),!0),!0}return!1},eventInProgress:!1,setup:function(){var e,i=this,n=t(i),o={};(e=t.data(this,"mobile-events"))||(e={length:0},t.data(this,"mobile-events",e)),e.length++,e.swipe=o,o.start=function(e){if(!t.event.special.swipe.eventInProgress){t.event.special.swipe.eventInProgress=!0;var n,s=t.event.special.swipe.start(e),h=e.target,c=!1;o.move=function(e){s&&!e.isDefaultPrevented()&&(n=t.event.special.swipe.stop(e),c||(c=t.event.special.swipe.handleSwipe(s,n,i,h))&&(t.event.special.swipe.eventInProgress=!1),Math.abs(s.coords[0]-n.coords[0])>t.event.special.swipe.scrollSupressionThreshold&&e.preventDefault())},o.stop=function(){c=!0,t.event.special.swipe.eventInProgress=!1,r.off(l,o.move),o.move=null},r.on(l,o.move).one(a,o.stop)}},n.on(s,o.start)},teardown:function(){var e,i;(e=t.data(this,"mobile-events"))&&(i=e.swipe,delete e.swipe,e.length--,0===e.length&&t.removeData(this,"mobile-events")),i&&(i.start&&t(this).off(s,i.start),i.move&&r.off(l,i.move),i.stop&&r.off(a,i.stop))}},t.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(e,i){t.event.special[e]={setup:function(){t(this).bind(i,t.noop)},teardown:function(){t(this).unbind(i)}}})}(t,this)}),function(t,e){"function"==typeof define&&define.amd?define("eve",function(){return e()}):"object"==typeof exports?module.exports=e():t.eve=e()}(this,function(){var t,e,i="0.4.2",n="hasOwnProperty",r=/[\.\/]/,o=function(){},s=function(t,e){return t-e},a={n:{}},l=function(i,n){i=String(i);var r,o=e,a=Array.prototype.slice.call(arguments,2),h=l.listeners(i),c=0,u=[],d={},f=[],p=t;t=i,e=0;for(var g=0,m=h.length;m>g;g++)"zIndex"in h[g]&&(u.push(h[g].zIndex),h[g].zIndex<0&&(d[h[g].zIndex]=h[g]));for(u.sort(s);u[c]<0;)if(r=d[u[c++]],f.push(r.apply(n,a)),e)return e=o,f;for(g=0;m>g;g++)if("zIndex"in(r=h[g]))if(r.zIndex==u[c]){if(f.push(r.apply(n,a)),e)break;do{if((r=d[u[++c]])&&f.push(r.apply(n,a)),e)break}while(r)}else d[r.zIndex]=r;else if(f.push(r.apply(n,a)),e)break;return e=o,t=p,f.length?f:null};return l._events=a,l.listeners=function(t){var e,i,n,o,s,l,h,c,u=t.split(r),d=a,f=[d],p=[];for(o=0,s=u.length;s>o;o++){for(c=[],l=0,h=f.length;h>l;l++)for(i=[(d=f[l].n)[u[o]],d["*"]],n=2;n--;)(e=i[n])&&(c.push(e),p=p.concat(e.f||[]));f=c}return p},l.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var i=t.split(r),n=a,s=0,l=i.length;l>s;s++)n=(n=n.n).hasOwnProperty(i[s])&&n[i[s]]||(n[i[s]]={n:{}});for(n.f=n.f||[],s=0,l=n.f.length;l>s;s++)if(n.f[s]==e)return o;return n.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},l.f=function(t){var e=[].slice.call(arguments,1);return function(){l.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},l.stop=function(){e=1},l.nt=function(e){return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},l.nts=function(){return t.split(r)},l.off=l.unbind=function(t,e){if(t){var i,o,s,h,c,u,d,f=t.split(r),p=[a];for(h=0,c=f.length;c>h;h++)for(u=0;u<p.length;u+=s.length-2){if(s=[u,1],i=p[u].n,"*"!=f[h])i[f[h]]&&s.push(i[f[h]]);else for(o in i)i[n](o)&&s.push(i[o]);p.splice.apply(p,s)}for(h=0,c=p.length;c>h;h++)for(i=p[h];i.n;){if(e){if(i.f){for(u=0,d=i.f.length;d>u;u++)if(i.f[u]==e){i.f.splice(u,1);break}!i.f.length&&delete i.f}for(o in i.n)if(i.n[n](o)&&i.n[o].f){var g=i.n[o].f;for(u=0,d=g.length;d>u;u++)if(g[u]==e){g.splice(u,1);break}!g.length&&delete i.n[o].f}}else for(o in delete i.f,i.n)i.n[n](o)&&i.n[o].f&&delete i.n[o].f;i=i.n}}else l._events=a={n:{}}},l.once=function(t,e){var i=function(){return l.unbind(t,i),e.apply(this,arguments)};return l.on(t,i)},l.version=i,l.toString=function(){return"You are running Eve "+i},l}),function(t,e){"function"==typeof define&&define.amd?define("raphael.core",["eve"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("eve")):t.Raphael=e(t.eve)}(this,function(t){function e(i){if(e.is(i,"function"))return v?i():t.on("raphael.DOMload",i);if(e.is(i,R))return e._engine.create[S](e,i.splice(0,3+e.is(i[0],j))).add(i);var n=Array.prototype.slice.call(arguments,0);if(e.is(n[n.length-1],"function")){var r=n.pop();return v?r.call(e._engine.create[S](e,n)):t.on("raphael.DOMload",function(){r.call(e._engine.create[S](e,n))})}return e._engine.create[S](e,arguments)}function i(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)t[C](n)&&(e[n]=i(t[n]));return e}function n(t,e,i){return function n(){var r=Array.prototype.slice.call(arguments,0),o=r.join("␀"),s=n.cache=n.cache||{},a=n.count=n.count||[];return s[C](o)?(function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return t.push(t.splice(i,1)[0])}(a,o),i?i(s[o]):s[o]):(a.length>=1e3&&delete s[a.shift()],a.push(o),s[o]=t[S](e,r),i?i(s[o]):s[o])}}function r(){return this.hex}function o(t,e){for(var i=[],n=0,r=t.length;r-2*!e>n;n+=2){var o=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4==n?o[3]={x:+t[0],y:+t[1]}:r-2==n&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4==n?o[3]=o[2]:n||(o[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return i}function s(t,e,i,n,r){return t*(t*(-3*e+9*i-9*n+3*r)+6*e-12*i+6*n)-3*e+3*i}function a(t,e,i,n,r,o,a,l,h){null==h&&(h=1);for(var c=(h=h>1?1:0>h?0:h)/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,p=0;12>p;p++){var g=c*u[p]+c,m=s(g,t,i,r,a),v=s(g,e,n,o,l),y=m*m+v*v;f+=d[p]*$.sqrt(y)}return c*f}function l(t,e,i,n,r,o,s,a){if(!(F(t,i)<D(r,s)||D(t,i)>F(r,s)||F(e,n)<D(o,a)||D(e,n)>F(o,a))){var l=(t-i)*(o-a)-(e-n)*(r-s);if(l){var h=((t*n-e*i)*(r-s)-(t-i)*(r*a-o*s))/l,c=((t*n-e*i)*(o-a)-(e-n)*(r*a-o*s))/l,u=+h.toFixed(2),d=+c.toFixed(2);if(!(u<+D(t,i).toFixed(2)||u>+F(t,i).toFixed(2)||u<+D(r,s).toFixed(2)||u>+F(r,s).toFixed(2)||d<+D(e,n).toFixed(2)||d>+F(e,n).toFixed(2)||d<+D(o,a).toFixed(2)||d>+F(o,a).toFixed(2)))return{x:h,y:c}}}}function h(t,i,n){var r=e.bezierBBox(t),o=e.bezierBBox(i);if(!e.isBBoxIntersect(r,o))return n?0:[];for(var s=a.apply(0,t),h=a.apply(0,i),c=F(~~(s/5),1),u=F(~~(h/5),1),d=[],f=[],p={},g=n?0:[],m=0;c+1>m;m++){var v=e.findDotsAtSegment.apply(e,t.concat(m/c));d.push({x:v.x,y:v.y,t:m/c})}for(m=0;u+1>m;m++)v=e.findDotsAtSegment.apply(e,i.concat(m/u)),f.push({x:v.x,y:v.y,t:m/u});for(m=0;c>m;m++)for(var y=0;u>y;y++){var x=d[m],b=d[m+1],w=f[y],C=f[y+1],_=z(b.x-x.x)<.001?"y":"x",T=z(C.x-w.x)<.001?"y":"x",k=l(x.x,x.y,b.x,b.y,w.x,w.y,C.x,C.y);if(k){if(p[k.x.toFixed(4)]==k.y.toFixed(4))continue;p[k.x.toFixed(4)]=k.y.toFixed(4);var S=x.t+z((k[_]-x[_])/(b[_]-x[_]))*(b.t-x.t),I=w.t+z((k[T]-w[T])/(C[T]-w[T]))*(C.t-w.t);S>=0&&1.001>=S&&I>=0&&1.001>=I&&(n?g++:g.push({x:k.x,y:k.y,t1:D(S,1),t2:D(I,1)}))}}return g}function c(t,i,n){t=e._path2curve(t),i=e._path2curve(i);for(var r,o,s,a,l,c,u,d,f,p,g=n?0:[],m=0,v=t.length;v>m;m++){var y=t[m];if("M"==y[0])r=l=y[1],o=c=y[2];else{"C"==y[0]?(f=[r,o].concat(y.slice(1)),r=f[6],o=f[7]):(f=[r,o,r,o,l,c,l,c],r=l,o=c);for(var x=0,b=i.length;b>x;x++){var w=i[x];if("M"==w[0])s=u=w[1],a=d=w[2];else{"C"==w[0]?(p=[s,a].concat(w.slice(1)),s=p[6],a=p[7]):(p=[s,a,s,a,u,d,u,d],s=u,a=d);var C=h(f,p,n);if(n)g+=C;else{for(var _=0,T=C.length;T>_;_++)C[_].segment1=m,C[_].segment2=x,C[_].bez1=f,C[_].bez2=p;g=g.concat(C)}}}}}return g}function u(t,e,i,n,r,o){null!=t?(this.a=+t,this.b=+e,this.c=+i,this.d=+n,this.e=+r,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function d(){return this.x+N+this.y+N+this.width+" × "+this.height}function f(t,e,i,n,r,o){function s(t){return((h*t+l)*t+a)*t}var a=3*e,l=3*(n-e)-a,h=1-a-l,c=3*i,u=3*(r-i)-c,d=1-c-u;return function(t,e){var i=function(t,e){var i,n,r,o,c,u;for(r=t,u=0;8>u;u++){if(o=s(r)-t,z(o)<e)return r;if(z(c=(3*h*r+2*l)*r+a)<1e-6)break;r-=o/c}if((i=0)>(r=t))return i;if(r>(n=1))return n;for(;n>i;){if(o=s(r),z(o-t)<e)return r;t>o?i=r:n=r,r=(n-i)/2+i}return r}(t,1/(200*o));return((d*i+u)*i+c)*i}(t)}function p(t,e){var i=[],n={};if(this.ms=e,this.times=1,t){for(var r in t)t[C](r)&&(n[Z(r)]=t[r],i.push(Z(r)));i.sort(lt)}this.anim=n,this.top=i[i.length-1],this.percents=i}function g(i,n,r,o,s,a){r=Z(r);var l,h,c,d,p,g,m=i.ms,v={},y={},b={};if(o)for(_=0,T=ie.length;T>_;_++){var w=ie[_];if(w.el.id==n.id&&w.anim==i){w.percent!=r?(ie.splice(_,1),c=1):h=w,n.attr(w.totalOrigin);break}}else o=+y;for(var _=0,T=i.percents.length;T>_;_++){if(i.percents[_]==r||i.percents[_]>o*i.top){r=i.percents[_],p=i.percents[_-1]||0,m=m/i.top*(r-p),d=i.percents[_+1],l=i.anim[r];break}o&&n.attr(i.anim[i.percents[_]])}if(l){if(h)h.initstatus=o,h.start=new Date-h.ms*o;else{for(var k in l)if(l[C](k)&&(tt[C](k)||n.paper.customAttributes[C](k)))switch(v[k]=n.attr(k),null==v[k]&&(v[k]=J[k]),y[k]=l[k],tt[k]){case j:b[k]=(y[k]-v[k])/m;break;case"colour":v[k]=e.getRGB(v[k]);var S=e.getRGB(y[k]);b[k]={r:(S.r-v[k].r)/m,g:(S.g-v[k].g)/m,b:(S.b-v[k].b)/m};break;case"path":var A=Mt(v[k],y[k]),B=A[1];for(v[k]=A[0],b[k]=[],_=0,T=v[k].length;T>_;_++){b[k][_]=[0];for(var N=1,E=v[k][_].length;E>N;N++)b[k][_][N]=(B[_][N]-v[k][_][N])/m}break;case"transform":var P=n._,L=Ft(P[k],y[k]);if(L)for(v[k]=L.from,y[k]=L.to,b[k]=[],b[k].real=!0,_=0,T=v[k].length;T>_;_++)for(b[k][_]=[v[k][_][0]],N=1,E=v[k][_].length;E>N;N++)b[k][_][N]=(y[k][_][N]-v[k][_][N])/m;else{var $=n.matrix||new u,F={_:{transform:P.transform},getBBox:function(){return n.getBBox(1)}};v[k]=[$.a,$.b,$.c,$.d,$.e,$.f],Lt(F,y[k]),y[k]=F._.transform,b[k]=[(F.matrix.a-$.a)/m,(F.matrix.b-$.b)/m,(F.matrix.c-$.c)/m,(F.matrix.d-$.d)/m,(F.matrix.e-$.e)/m,(F.matrix.f-$.f)/m]}break;case"csv":var D=O(l[k])[M](x),z=O(v[k])[M](x);if("clip-rect"==k)for(v[k]=z,b[k]=[],_=z.length;_--;)b[k][_]=(D[_]-v[k][_])/m;y[k]=D;break;default:for(D=[][I](l[k]),z=[][I](v[k]),b[k]=[],_=n.paper.customAttributes[k].length;_--;)b[k][_]=((D[_]||0)-(z[_]||0))/m}var H=l.easing,G=e.easing_formulas[H];if(!G)if((G=O(H).match(V))&&5==G.length){var q=G;G=function(t){return f(t,+q[1],+q[2],+q[3],+q[4],m)}}else G=ht;if(w={anim:i,percent:r,timestamp:g=l.start||i.start||+new Date,start:g+(i.del||0),status:0,initstatus:o||0,stop:!1,ms:m,easing:G,from:v,diff:b,to:y,el:n,callback:l.callback,prev:p,next:d,repeat:a||i.times,origin:n.attr(),totalOrigin:s},ie.push(w),o&&!h&&!c&&(w.stop=!0,w.start=new Date-m*o,1==ie.length))return re();c&&(w.start=new Date-w.ms*o),1==ie.length&&ne(re)}t("raphael.anim.start."+n.id,n,i)}}function m(t){for(var e=0;e<ie.length;e++)ie[e].el.paper==t&&ie.splice(e--,1)}e.version="2.1.4",e.eve=t;var v,y,x=/[, ]+/,b={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},w=/\{(\d+)\}/g,C="hasOwnProperty",_={doc:document,win:window},T={was:Object.prototype[C].call(_.win,"Raphael"),is:_.win.Raphael},k=function(){this.ca=this.customAttributes={}},S="apply",I="concat",A="ontouchstart"in _.win||_.win.DocumentTouch&&_.doc instanceof DocumentTouch,B="",N=" ",O=String,M="split",E="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[M](N),P={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},L=O.prototype.toLowerCase,$=Math,F=$.max,D=$.min,z=$.abs,H=$.pow,G=$.PI,j="number",q="string",R="array",W=Object.prototype.toString,Y=(e._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),X={NaN:1,Infinity:1,"-Infinity":1},V=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,U=$.round,Z=parseFloat,Q=parseInt,K=O.prototype.toUpperCase,J=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},tt=e._availableAnimAttrs={blur:j,"clip-rect":"csv",cx:j,cy:j,fill:"colour","fill-opacity":j,"font-size":j,height:j,opacity:j,path:"path",r:j,rx:j,ry:j,stroke:"colour","stroke-opacity":j,"stroke-width":j,transform:"transform",width:j,x:j,y:j},et=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,it={hs:1,rg:1},nt=/,?([achlmqrstvxz]),?/gi,rt=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ot=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,st=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,at=(e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),lt=function(t,e){return Z(t)-Z(e)},ht=function(t){return t},ct=e._rectPath=function(t,e,i,n,r){return r?[["M",t+r,e],["l",i-2*r,0],["a",r,r,0,0,1,r,r],["l",0,n-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-i,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-n],["a",r,r,0,0,1,r,-r],["z"]]:[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]]},ut=function(t,e,i,n){return null==n&&(n=i),[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},dt=e._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return ut(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return ut(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return ct(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return ct(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return ct(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return ct(e.x,e.y,e.width,e.height)}},ft=e.mapPath=function(t,e){if(!e)return t;var i,n,r,o,s,a,l;for(r=0,s=(t=Mt(t)).length;s>r;r++)for(o=1,a=(l=t[r]).length;a>o;o+=2)i=e.x(l[o],l[o+1]),n=e.y(l[o],l[o+1]),l[o]=i,l[o+1]=n;return t};if(e._g=_,e.type=_.win.SVGAngle||_.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==e.type){var pt,gt=_.doc.createElement("div");if(gt.innerHTML='<v:shape adj="1"/>',(pt=gt.firstChild).style.behavior="url(#default#VML)",!pt||"object"!=typeof pt.adj)return e.type=B;gt=null}e.svg=!(e.vml="VML"==e.type),e._Paper=k,e.fn=y=k.prototype=e.prototype,e._id=0,e._oid=0,e.is=function(t,e){return"finite"==(e=L.call(e))?!X[C](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||W.call(t).slice(8,-1).toLowerCase()==e},e.angle=function(t,i,n,r,o,s){if(null==o){var a=t-n,l=i-r;return a||l?(180+180*$.atan2(-l,-a)/G+360)%360:0}return e.angle(t,i,o,s)-e.angle(n,r,o,s)},e.rad=function(t){return t%360*G/180},e.deg=function(t){return Math.round(180*t/G%360*1e3)/1e3},e.snapTo=function(t,i,n){if(n=e.is(n,"finite")?n:10,e.is(t,R)){for(var r=t.length;r--;)if(z(t[r]-i)<=n)return t[r]}else{var o=i%(t=+t);if(n>o)return i-o;if(o>t-n)return i-o+t}return i},e.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=16*$.random()|0;return("x"==t?e:3&e|8).toString(16)}),e.setWindow=function(i){t("raphael.setWindow",e,_.win,i),_.win=i,_.doc=_.win.document,e._engine.initWin&&e._engine.initWin(_.win)};var mt=function(t){if(e.vml){var i,r=/^\s+|\s+$/g;try{var o=new ActiveXObject("htmlfile");o.write("<body>"),o.close(),i=o.body}catch(t){i=createPopup().document.body}var s=i.createTextRange();mt=n(function(t){try{i.style.color=O(t).replace(r,B);var e=s.queryCommandValue("ForeColor");return"#"+("000000"+(e=(255&e)<<16|65280&e|(16711680&e)>>>16).toString(16)).slice(-6)}catch(t){return"none"}})}else{var a=_.doc.createElement("i");a.title="Raphaël Colour Picker",a.style.display="none",_.doc.body.appendChild(a),mt=n(function(t){return a.style.color=t,_.doc.defaultView.getComputedStyle(a,B).getPropertyValue("color")})}return mt(t)},vt=function(){return"hsb("+[this.h,this.s,this.b]+")"},yt=function(){return"hsl("+[this.h,this.s,this.l]+")"},xt=function(){return this.hex},bt=function(t,i,n){if(null==i&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(n=t.b,i=t.g,t=t.r),null==i&&e.is(t,q)){var r=e.getRGB(t);t=r.r,i=r.g,n=r.b}return(t>1||i>1||n>1)&&(t/=255,i/=255,n/=255),[t,i,n]},wt=function(t,i,n,r){var o={r:t*=255,g:i*=255,b:n*=255,hex:e.rgb(t,i,n),toString:xt};return e.is(r,"finite")&&(o.opacity=r),o};e.color=function(t){var i;return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(i=e.hsb2rgb(t),t.r=i.r,t.g=i.g,t.b=i.b,t.hex=i.hex):e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(i=e.hsl2rgb(t),t.r=i.r,t.g=i.g,t.b=i.b,t.hex=i.hex):(e.is(t,"string")&&(t=e.getRGB(t)),e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(i=e.rgb2hsl(t),t.h=i.h,t.s=i.s,t.l=i.l,i=e.rgb2hsb(t),t.v=i.b):(t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1),t.toString=xt,t},e.hsb2rgb=function(t,e,i,n){var r,o,s,a,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,n=t.o,t=t.h),a=(l=i*e)*(1-z((t=(t*=360)%360/60)%2-1)),r=o=s=i-l,wt(r+=[l,a,0,0,a,l][t=~~t],o+=[a,l,l,a,0,0][t],s+=[0,0,a,l,l,a][t],n)},e.hsl2rgb=function(t,e,i,n){var r,o,s,a,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h),(t>1||e>1||i>1)&&(t/=360,e/=100,i/=100),a=(l=2*e*(.5>i?i:1-i))*(1-z((t=(t*=360)%360/60)%2-1)),r=o=s=i-l/2,wt(r+=[l,a,0,0,a,l][t=~~t],o+=[a,l,l,a,0,0][t],s+=[0,0,a,l,l,a][t],n)},e.rgb2hsb=function(t,e,i){var n,r;return t=(i=bt(t,e,i))[0],e=i[1],i=i[2],{h:((0==(r=(n=F(t,e,i))-D(t,e,i))?null:n==t?(e-i)/r:n==e?(i-t)/r+2:(t-e)/r+4)+360)%6*60/360,s:0==r?0:r/n,b:n,toString:vt}},e.rgb2hsl=function(t,e,i){var n,r,o,s;return t=(i=bt(t,e,i))[0],e=i[1],i=i[2],n=((r=F(t,e,i))+(o=D(t,e,i)))/2,{h:((0==(s=r-o)?null:r==t?(e-i)/s:r==e?(i-t)/s+2:(t-e)/s+4)+360)%6*60/360,s:0==s?0:.5>n?s/(2*n):s/(2-2*n),l:n,toString:yt}},e._path2string=function(){return this.join(",").replace(nt,"$1")},e._preload=function(t,e){var i=_.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){e.call(this),this.onload=null,_.doc.body.removeChild(this)},i.onerror=function(){_.doc.body.removeChild(this)},_.doc.body.appendChild(i),i.src=t},e.getRGB=n(function(t){if(!t||(t=O(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:r};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:r};!it[C](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()&&(t=mt(t));var i,n,o,s,a,l,h=t.match(Y);return h?(h[2]&&(o=Q(h[2].substring(5),16),n=Q(h[2].substring(3,5),16),i=Q(h[2].substring(1,3),16)),h[3]&&(o=Q((a=h[3].charAt(3))+a,16),n=Q((a=h[3].charAt(2))+a,16),i=Q((a=h[3].charAt(1))+a,16)),h[4]&&(l=h[4][M](et),i=Z(l[0]),"%"==l[0].slice(-1)&&(i*=2.55),n=Z(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),o=Z(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),"rgba"==h[1].toLowerCase().slice(0,4)&&(s=Z(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100)),h[5]?(l=h[5][M](et),i=Z(l[0]),"%"==l[0].slice(-1)&&(i*=2.55),n=Z(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),o=Z(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(i/=360),"hsba"==h[1].toLowerCase().slice(0,4)&&(s=Z(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),e.hsb2rgb(i,n,o,s)):h[6]?(l=h[6][M](et),i=Z(l[0]),"%"==l[0].slice(-1)&&(i*=2.55),n=Z(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),o=Z(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(i/=360),"hsla"==h[1].toLowerCase().slice(0,4)&&(s=Z(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),e.hsl2rgb(i,n,o,s)):((h={r:i,g:n,b:o,toString:r}).hex="#"+(16777216|o|n<<8|i<<16).toString(16).slice(1),e.is(s,"finite")&&(h.opacity=s),h)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:r}},e),e.hsb=n(function(t,i,n){return e.hsb2rgb(t,i,n).hex}),e.hsl=n(function(t,i,n){return e.hsl2rgb(t,i,n).hex}),e.rgb=n(function(t,e,i){function n(t){return t+.5|0}return"#"+(16777216|n(i)|n(e)<<8|n(t)<<16).toString(16).slice(1)}),e.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},i=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),i.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=function(t){if(!t)return null;var i=Ct(t);if(i.arr)return Tt(i.arr);var n={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[];return e.is(t,R)&&e.is(t[0],R)&&(r=Tt(t)),r.length||O(t).replace(rt,function(t,e,i){var o=[],s=e.toLowerCase();if(i.replace(st,function(t,e){e&&o.push(+e)}),"m"==s&&o.length>2&&(r.push([e][I](o.splice(0,2))),s="l",e="m"==e?"l":"L"),"r"==s)r.push([e][I](o));else for(;o.length>=n[s]&&(r.push([e][I](o.splice(0,n[s]))),n[s]););}),r.toString=e._path2string,i.arr=Tt(r),r},e.parseTransformString=n(function(t){if(!t)return null;var i=[];return e.is(t,R)&&e.is(t[0],R)&&(i=Tt(t)),i.length||O(t).replace(ot,function(t,e,n){var r=[];L.call(e),n.replace(st,function(t,e){e&&r.push(+e)}),i.push([e][I](r))}),i.toString=e._path2string,i});var Ct=function(t){var e=Ct.ps=Ct.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var i in e)e[C](i)&&i!=t&&(e[i].sleep--,!e[i].sleep&&delete e[i])}),e[t]};e.findDotsAtSegment=function(t,e,i,n,r,o,s,a,l){var h=1-l,c=H(h,3),u=H(h,2),d=l*l,f=d*l,p=c*t+3*u*l*i+3*h*l*l*r+f*s,g=c*e+3*u*l*n+3*h*l*l*o+f*a,m=t+2*l*(i-t)+d*(r-2*i+t),v=e+2*l*(n-e)+d*(o-2*n+e),y=i+2*l*(r-i)+d*(s-2*r+i),x=n+2*l*(o-n)+d*(a-2*o+n),b=h*t+l*i,w=h*e+l*n,C=h*r+l*s,_=h*o+l*a,T=90-180*$.atan2(m-y,v-x)/G;return(m>y||x>v)&&(T+=180),{x:p,y:g,m:{x:m,y:v},n:{x:y,y:x},start:{x:b,y:w},end:{x:C,y:_},alpha:T}},e.bezierBBox=function(t,i,n,r,o,s,a,l){e.is(t,"array")||(t=[t,i,n,r,o,s,a,l]);var h=Ot.apply(null,t);return{x:h.min.x,y:h.min.y,x2:h.max.x,y2:h.max.y,width:h.max.x-h.min.x,height:h.max.y-h.min.y}},e.isPointInsideBBox=function(t,e,i){return e>=t.x&&e<=t.x2&&i>=t.y&&i<=t.y2},e.isBBoxIntersect=function(t,i){var n=e.isPointInsideBBox;return n(i,t.x,t.y)||n(i,t.x2,t.y)||n(i,t.x,t.y2)||n(i,t.x2,t.y2)||n(t,i.x,i.y)||n(t,i.x2,i.y)||n(t,i.x,i.y2)||n(t,i.x2,i.y2)||(t.x<i.x2&&t.x>i.x||i.x<t.x2&&i.x>t.x)&&(t.y<i.y2&&t.y>i.y||i.y<t.y2&&i.y>t.y)},e.pathIntersection=function(t,e){return c(t,e)},e.pathIntersectionNumber=function(t,e){return c(t,e,1)},e.isPointInsidePath=function(t,i,n){var r=e.pathBBox(t);return e.isPointInsideBBox(r,i,n)&&c(t,[["M",i,n],["H",r.x2+10]],1)%2==1},e._removedFactory=function(e){return function(){t("raphael.log",null,"Raphaël: you are calling to method “"+e+"” of removed object",e)}};var _t=e.pathBBox=function(t){var e=Ct(t);if(e.bbox)return i(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var n,r=0,o=0,s=[],a=[],l=0,h=(t=Mt(t)).length;h>l;l++)if("M"==(n=t[l])[0])r=n[1],o=n[2],s.push(r),a.push(o);else{var c=Ot(r,o,n[1],n[2],n[3],n[4],n[5],n[6]);s=s[I](c.min.x,c.max.x),a=a[I](c.min.y,c.max.y),r=n[5],o=n[6]}var u=D[S](0,s),d=D[S](0,a),f=F[S](0,s),p=F[S](0,a),g=f-u,m=p-d,v={x:u,y:d,x2:f,y2:p,width:g,height:m,cx:u+g/2,cy:d+m/2};return e.bbox=i(v),v},Tt=function(t){var n=i(t);return n.toString=e._path2string,n},kt=e._pathToRelative=function(t){var i=Ct(t);if(i.rel)return Tt(i.rel);e.is(t,R)&&e.is(t&&t[0],R)||(t=e.parsePathString(t));var n=[],r=0,o=0,s=0,a=0,l=0;"M"==t[0][0]&&(s=r=t[0][1],a=o=t[0][2],l++,n.push(["M",r,o]));for(var h=l,c=t.length;c>h;h++){var u=n[h]=[],d=t[h];if(d[0]!=L.call(d[0]))switch(u[0]=L.call(d[0]),u[0]){case"a":u[1]=d[1],u[2]=d[2],u[3]=d[3],u[4]=d[4],u[5]=d[5],u[6]=+(d[6]-r).toFixed(3),u[7]=+(d[7]-o).toFixed(3);break;case"v":u[1]=+(d[1]-o).toFixed(3);break;case"m":s=d[1],a=d[2];default:for(var f=1,p=d.length;p>f;f++)u[f]=+(d[f]-(f%2?r:o)).toFixed(3)}else{u=n[h]=[],"m"==d[0]&&(s=d[1]+r,a=d[2]+o);for(var g=0,m=d.length;m>g;g++)n[h][g]=d[g]}var v=n[h].length;switch(n[h][0]){case"z":r=s,o=a;break;case"h":r+=+n[h][v-1];break;case"v":o+=+n[h][v-1];break;default:r+=+n[h][v-2],o+=+n[h][v-1]}}return n.toString=e._path2string,i.rel=Tt(n),n},St=e._pathToAbsolute=function(t){var i=Ct(t);if(i.abs)return Tt(i.abs);if(e.is(t,R)&&e.is(t&&t[0],R)||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var n=[],r=0,s=0,a=0,l=0,h=0;"M"==t[0][0]&&(a=r=+t[0][1],l=s=+t[0][2],h++,n[0]=["M",r,s]);for(var c,u,d=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),f=h,p=t.length;p>f;f++){if(n.push(c=[]),(u=t[f])[0]!=K.call(u[0]))switch(c[0]=K.call(u[0]),c[0]){case"A":c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5],c[6]=+(u[6]+r),c[7]=+(u[7]+s);break;case"V":c[1]=+u[1]+s;break;case"H":c[1]=+u[1]+r;break;case"R":for(var g=[r,s][I](u.slice(1)),m=2,v=g.length;v>m;m++)g[m]=+g[m]+r,g[++m]=+g[m]+s;n.pop(),n=n[I](o(g,d));break;case"M":a=+u[1]+r,l=+u[2]+s;default:for(m=1,v=u.length;v>m;m++)c[m]=+u[m]+(m%2?r:s)}else if("R"==u[0])g=[r,s][I](u.slice(1)),n.pop(),n=n[I](o(g,d)),c=["R"][I](u.slice(-2));else for(var y=0,x=u.length;x>y;y++)c[y]=u[y];switch(c[0]){case"Z":r=a,s=l;break;case"H":r=c[1];break;case"V":s=c[1];break;case"M":a=c[c.length-2],l=c[c.length-1];default:r=c[c.length-2],s=c[c.length-1]}}return n.toString=e._path2string,i.abs=Tt(n),n},It=function(t,e,i,n){return[t,e,i,n,i,n]},At=function(t,e,i,n,r,o){var s=1/3,a=2/3;return[s*t+a*i,s*e+a*n,s*r+a*i,s*o+a*n,r,o]},Bt=function(t,e,i,r,o,s,a,l,h,c){var u,d=120*G/180,f=G/180*(+o||0),p=[],g=n(function(t,e,i){return{x:t*$.cos(i)-e*$.sin(i),y:t*$.sin(i)+e*$.cos(i)}});if(c)T=c[0],k=c[1],C=c[2],_=c[3];else{t=(u=g(t,e,-f)).x,e=u.y,l=(u=g(l,h,-f)).x,h=u.y;var m=($.cos(G/180*o),$.sin(G/180*o),(t-l)/2),v=(e-h)/2,y=m*m/(i*i)+v*v/(r*r);y>1&&(i*=y=$.sqrt(y),r*=y);var x=i*i,b=r*r,w=(s==a?-1:1)*$.sqrt(z((x*b-x*v*v-b*m*m)/(x*v*v+b*m*m))),C=w*i*v/r+(t+l)/2,_=w*-r*m/i+(e+h)/2,T=$.asin(((e-_)/r).toFixed(9)),k=$.asin(((h-_)/r).toFixed(9));0>(T=C>t?G-T:T)&&(T=2*G+T),0>(k=C>l?G-k:k)&&(k=2*G+k),a&&T>k&&(T-=2*G),!a&&k>T&&(k-=2*G)}var S=k-T;if(z(S)>d){var A=k,B=l,N=h;k=T+d*(a&&k>T?1:-1),l=C+i*$.cos(k),h=_+r*$.sin(k),p=Bt(l,h,i,r,o,0,a,B,N,[k,A,C,_])}S=k-T;var O=$.cos(T),E=$.sin(T),P=$.cos(k),L=$.sin(k),F=$.tan(S/4),D=4/3*i*F,H=4/3*r*F,j=[t,e],q=[t+D*E,e-H*O],R=[l+D*L,h-H*P],W=[l,h];if(q[0]=2*j[0]-q[0],q[1]=2*j[1]-q[1],c)return[q,R,W][I](p);for(var Y=[],X=0,V=(p=[q,R,W][I](p).join()[M](",")).length;V>X;X++)Y[X]=X%2?g(p[X-1],p[X],f).y:g(p[X],p[X+1],f).x;return Y},Nt=function(t,e,i,n,r,o,s,a,l){var h=1-l;return{x:H(h,3)*t+3*H(h,2)*l*i+3*h*l*l*r+H(l,3)*s,y:H(h,3)*e+3*H(h,2)*l*n+3*h*l*l*o+H(l,3)*a}},Ot=n(function(t,e,i,n,r,o,s,a){var l,h=r-2*i+t-(s-2*r+i),c=2*(i-t)-2*(r-i),u=t-i,d=(-c+$.sqrt(c*c-4*h*u))/2/h,f=(-c-$.sqrt(c*c-4*h*u))/2/h,p=[e,a],g=[t,s];return z(d)>"1e12"&&(d=.5),z(f)>"1e12"&&(f=.5),d>0&&1>d&&(l=Nt(t,e,i,n,r,o,s,a,d),g.push(l.x),p.push(l.y)),f>0&&1>f&&(l=Nt(t,e,i,n,r,o,s,a,f),g.push(l.x),p.push(l.y)),h=o-2*n+e-(a-2*o+n),u=e-n,d=(-(c=2*(n-e)-2*(o-n))+$.sqrt(c*c-4*h*u))/2/h,f=(-c-$.sqrt(c*c-4*h*u))/2/h,z(d)>"1e12"&&(d=.5),z(f)>"1e12"&&(f=.5),d>0&&1>d&&(l=Nt(t,e,i,n,r,o,s,a,d),g.push(l.x),p.push(l.y)),f>0&&1>f&&(l=Nt(t,e,i,n,r,o,s,a,f),g.push(l.x),p.push(l.y)),{min:{x:D[S](0,g),y:D[S](0,p)},max:{x:F[S](0,g),y:F[S](0,p)}}}),Mt=e._path2curve=n(function(t,e){var i=!e&&Ct(t);if(!e&&i.curve)return Tt(i.curve);for(var n=St(t),r=e&&St(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=function(t,e,i){var n,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][I](Bt[S](0,[e.x,e.y][I](t.slice(1))));break;case"S":"C"==i||"S"==i?(n=2*e.x-e.bx,r=2*e.y-e.by):(n=e.x,r=e.y),t=["C",n,r][I](t.slice(1));break;case"T":"Q"==i||"T"==i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][I](At(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][I](At(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][I](It(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][I](It(e.x,e.y,t[1],e.y));break;case"V":t=["C"][I](It(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][I](It(e.x,e.y,e.X,e.Y))}return t},l=function(t,e){if(t[e].length>7){t[e].shift();for(var i=t[e];i.length;)c[e]="A",r&&(u[e]="A"),t.splice(e++,0,["C"][I](i.splice(0,6)));t.splice(e,1),g=F(n.length,r&&r.length||0)}},h=function(t,e,i,o,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",o.x,o.y]),i.bx=0,i.by=0,i.x=t[s][1],i.y=t[s][2],g=F(n.length,r&&r.length||0))},c=[],u=[],d="",f="",p=0,g=F(n.length,r&&r.length||0);g>p;p++){n[p]&&(d=n[p][0]),"C"!=d&&(c[p]=d,p&&(f=c[p-1])),n[p]=a(n[p],o,f),"A"!=c[p]&&"C"==d&&(c[p]="C"),l(n,p),r&&(r[p]&&(d=r[p][0]),"C"!=d&&(u[p]=d,p&&(f=u[p-1])),r[p]=a(r[p],s,f),"A"!=u[p]&&"C"==d&&(u[p]="C"),l(r,p)),h(n,r,o,s,p),h(r,n,s,o,p);var m=n[p],v=r&&r[p],y=m.length,x=r&&v.length;o.x=m[y-2],o.y=m[y-1],o.bx=Z(m[y-4])||o.x,o.by=Z(m[y-3])||o.y,s.bx=r&&(Z(v[x-4])||s.x),s.by=r&&(Z(v[x-3])||s.y),s.x=r&&v[x-2],s.y=r&&v[x-1]}return r||(i.curve=Tt(n)),r?[n,r]:n},null,Tt),Et=(e._parseDots=n(function(t){for(var i=[],n=0,r=t.length;r>n;n++){var o={},s=t[n].match(/^([^:]*):?([\d\.]*)/);if(o.color=e.getRGB(s[1]),o.color.error)return null;o.opacity=o.color.opacity,o.color=o.color.hex,s[2]&&(o.offset=s[2]+"%"),i.push(o)}for(n=1,r=i.length-1;r>n;n++)if(!i[n].offset){for(var a=Z(i[n-1].offset||0),l=0,h=n+1;r>h;h++)if(i[h].offset){l=i[h].offset;break}l||(l=100,h=r);for(var c=((l=Z(l))-a)/(h-n+1);h>n;n++)a+=c,i[n].offset=a+"%"}return i}),e._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Pt=(e._tofront=function(t,e){e.top!==t&&(Et(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},e._toback=function(t,e){e.bottom!==t&&(Et(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},e._insertafter=function(t,e,i){Et(t,i),e==i.top&&(i.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},e._insertbefore=function(t,e,i){Et(t,i),e==i.bottom&&(i.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},e.toMatrix=function(t,e){var i=_t(t),n={_:{transform:B},getBBox:function(){return i}};return Lt(n,e),n.matrix}),Lt=(e.transformPath=function(t,e){return ft(t,Pt(t,e))},e._extractTransform=function(t,i){if(null==i)return t._.transform;i=O(i).replace(/\.{3}|\u2026/g,t._.transform||B);var n,r,o=e.parseTransformString(i),s=0,a=1,l=1,h=t._,c=new u;if(h.transform=o||[],o)for(var d=0,f=o.length;f>d;d++){var p,g,m,v,y,x=o[d],b=x.length,w=O(x[0]).toLowerCase(),C=x[0]!=w,_=C?c.invert():0;"t"==w&&3==b?C?(p=_.x(0,0),g=_.y(0,0),m=_.x(x[1],x[2]),v=_.y(x[1],x[2]),c.translate(m-p,v-g)):c.translate(x[1],x[2]):"r"==w?2==b?(y=y||t.getBBox(1),c.rotate(x[1],y.x+y.width/2,y.y+y.height/2),s+=x[1]):4==b&&(C?(m=_.x(x[2],x[3]),v=_.y(x[2],x[3]),c.rotate(x[1],m,v)):c.rotate(x[1],x[2],x[3]),s+=x[1]):"s"==w?2==b||3==b?(y=y||t.getBBox(1),c.scale(x[1],x[b-1],y.x+y.width/2,y.y+y.height/2),a*=x[1],l*=x[b-1]):5==b&&(C?(m=_.x(x[3],x[4]),v=_.y(x[3],x[4]),c.scale(x[1],x[2],m,v)):c.scale(x[1],x[2],x[3],x[4]),a*=x[1],l*=x[2]):"m"==w&&7==b&&c.add(x[1],x[2],x[3],x[4],x[5],x[6]),h.dirtyT=1,t.matrix=c}t.matrix=c,h.sx=a,h.sy=l,h.deg=s,h.dx=n=c.e,h.dy=r=c.f,1==a&&1==l&&!s&&h.bbox?(h.bbox.x+=+n,h.bbox.y+=+r):h.dirtyT=1}),$t=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Ft=e._equaliseTransform=function(t,i){i=O(i).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],i=e.parseTransformString(i)||[];for(var n,r,o,s,a=F(t.length,i.length),l=[],h=[],c=0;a>c;c++){if(o=t[c]||$t(i[c]),s=i[c]||$t(o),o[0]!=s[0]||"r"==o[0].toLowerCase()&&(o[2]!=s[2]||o[3]!=s[3])||"s"==o[0].toLowerCase()&&(o[3]!=s[3]||o[4]!=s[4]))return;for(l[c]=[],h[c]=[],n=0,r=F(o.length,s.length);r>n;n++)n in o&&(l[c][n]=o[n]),n in s&&(h[c][n]=s[n])}return{from:l,to:h}};e._getContainer=function(t,i,n,r){var o;return null!=(o=null!=r||e.is(t,"object")?t:_.doc.getElementById(t))?o.tagName?null==i?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:i,height:n}:{container:1,x:t,y:i,width:n,height:r}:void 0},e.pathToRelative=kt,e._engine={},e.path2curve=Mt,e.matrix=function(t,e,i,n,r,o){return new u(t,e,i,n,r,o)},function(t){function i(t){return t[0]*t[0]+t[1]*t[1]}function n(t){var e=$.sqrt(i(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,i,n,r,o){var s,a,l,h,c=[[],[],[]],d=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],f=[[t,i,r],[e,n,o],[0,0,1]];for(t&&t instanceof u&&(f=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;3>s;s++)for(a=0;3>a;a++){for(h=0,l=0;3>l;l++)h+=d[s][l]*f[l][a];c[s][a]=h}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new u(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new u(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,i,n){null==e&&(e=t),(i||n)&&this.add(1,0,0,1,i,n),this.add(t,0,0,e,0,0),(i||n)&&this.add(1,0,0,1,-i,-n)},t.rotate=function(t,i,n){t=e.rad(t),i=i||0,n=n||0;var r=+$.cos(t).toFixed(9),o=+$.sin(t).toFixed(9);this.add(r,o,-o,r,i,n),this.add(1,0,0,1,-i,-n)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[O.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];t.scalex=$.sqrt(i(r[0])),n(r[0]),t.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*t.shear,r[1][1]-r[0][1]*t.shear],t.scaley=$.sqrt(i(r[1])),n(r[1]),t.shear/=t.scaley;var o=-r[0][1],s=r[1][1];return 0>s?(t.rotate=e.deg($.acos(s)),0>o&&(t.rotate=360-t.rotate)):t.rotate=e.deg($.asin(o)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[M]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:B)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:B)+(e.rotate?"r"+[e.rotate,0,0]:B)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(u.prototype);for(var Dt=function(){this.returnValue=!1},zt=function(){return this.originalEvent.preventDefault()},Ht=function(){this.cancelBubble=!0},Gt=function(){return this.originalEvent.stopPropagation()},jt=function(t){var e=_.doc.documentElement.scrollTop||_.doc.body.scrollTop,i=_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft;return{x:t.clientX+i,y:t.clientY+e}},qt=_.doc.addEventListener?function(t,e,i,n){var r=function(t){var e=jt(t);return i.call(n,t,e.x,e.y)};if(t.addEventListener(e,r,!1),A&&P[e]){var o=function(e){for(var r=jt(e),o=e,s=0,a=e.targetTouches&&e.targetTouches.length;a>s;s++)if(e.targetTouches[s].target==t){(e=e.targetTouches[s]).originalEvent=o,e.preventDefault=zt,e.stopPropagation=Gt;break}return i.call(n,e,r.x,r.y)};t.addEventListener(P[e],o,!1)}return function(){return t.removeEventListener(e,r,!1),A&&P[e]&&t.removeEventListener(P[e],o,!1),!0}}:_.doc.attachEvent?function(t,e,i,n){var r=function(t){t=t||_.win.event;var e=_.doc.documentElement.scrollTop||_.doc.body.scrollTop,r=_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft,o=t.clientX+r,s=t.clientY+e;return t.preventDefault=t.preventDefault||Dt,t.stopPropagation=t.stopPropagation||Ht,i.call(n,t,o,s)};return t.attachEvent("on"+e,r),function(){return t.detachEvent("on"+e,r),!0}}:void 0,Rt=[],Wt=function(e){for(var i,n=e.clientX,r=e.clientY,o=_.doc.documentElement.scrollTop||_.doc.body.scrollTop,s=_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft,a=Rt.length;a--;){if(i=Rt[a],A&&e.touches){for(var l,h=e.touches.length;h--;)if((l=e.touches[h]).identifier==i.el._drag.id){n=l.clientX,r=l.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var c,u=i.el.node,d=u.nextSibling,f=u.parentNode,p=u.style.display;_.win.opera&&f.removeChild(u),u.style.display="none",c=i.el.paper.getElementByPoint(n,r),u.style.display=p,_.win.opera&&(d?f.insertBefore(u,d):f.appendChild(u)),c&&t("raphael.drag.over."+i.el.id,i.el,c),n+=s,r+=o,t("raphael.drag.move."+i.el.id,i.move_scope||i.el,n-i.el._drag.x,r-i.el._drag.y,n,r,e)}},Yt=function(i){e.unmousemove(Wt).unmouseup(Yt);for(var n,r=Rt.length;r--;)(n=Rt[r]).el._drag={},t("raphael.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,i);Rt=[]},Xt=e.el={},Vt=E.length;Vt--;)!function(t){e[t]=Xt[t]=function(i,n){return e.is(i,"function")&&(this.events=this.events||[],this.events.push({name:t,f:i,unbind:qt(this.shape||this.node||_.doc,t,i,n||this)})),this},e["un"+t]=Xt["un"+t]=function(i){for(var n=this.events||[],r=n.length;r--;)n[r].name!=t||!e.is(i,"undefined")&&n[r].f!=i||(n[r].unbind(),n.splice(r,1),!n.length&&delete this.events);return this}}(E[Vt]);Xt.data=function(i,n){var r=at[this.id]=at[this.id]||{};if(0==arguments.length)return r;if(1==arguments.length){if(e.is(i,"object")){for(var o in i)i[C](o)&&this.data(o,i[o]);return this}return t("raphael.data.get."+this.id,this,r[i],i),r[i]}return r[i]=n,t("raphael.data.set."+this.id,this,n,i),this},Xt.removeData=function(t){return null==t?at[this.id]={}:at[this.id]&&delete at[this.id][t],this},Xt.getData=function(){return i(at[this.id]||{})},Xt.hover=function(t,e,i,n){return this.mouseover(t,i).mouseout(e,n||i)},Xt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Ut=[];Xt.drag=function(i,n,r,o,s,a){function l(l){(l.originalEvent||l).preventDefault();var h=l.clientX,c=l.clientY,u=_.doc.documentElement.scrollTop||_.doc.body.scrollTop,d=_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft;if(this._drag.id=l.identifier,A&&l.touches)for(var f,p=l.touches.length;p--;)if(f=l.touches[p],this._drag.id=f.identifier,f.identifier==this._drag.id){h=f.clientX,c=f.clientY;break}this._drag.x=h+d,this._drag.y=c+u,!Rt.length&&e.mousemove(Wt).mouseup(Yt),Rt.push({el:this,move_scope:o,start_scope:s,end_scope:a}),n&&t.on("raphael.drag.start."+this.id,n),i&&t.on("raphael.drag.move."+this.id,i),r&&t.on("raphael.drag.end."+this.id,r),t("raphael.drag.start."+this.id,s||o||this,l.clientX+d,l.clientY+u,l)}return this._drag={},Ut.push({el:this,start:l}),this.mousedown(l),this},Xt.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},Xt.undrag=function(){for(var i=Ut.length;i--;)Ut[i].el==this&&(this.unmousedown(Ut[i].start),Ut.splice(i,1),t.unbind("raphael.drag.*."+this.id));!Ut.length&&e.unmousemove(Wt).unmouseup(Yt),Rt=[]},y.circle=function(t,i,n){var r=e._engine.circle(this,t||0,i||0,n||0);return this.__set__&&this.__set__.push(r),r},y.rect=function(t,i,n,r,o){var s=e._engine.rect(this,t||0,i||0,n||0,r||0,o||0);return this.__set__&&this.__set__.push(s),s},y.ellipse=function(t,i,n,r){var o=e._engine.ellipse(this,t||0,i||0,n||0,r||0);return this.__set__&&this.__set__.push(o),o},y.path=function(t){t&&!e.is(t,q)&&!e.is(t[0],R)&&(t+=B);var i=e._engine.path(e.format[S](e,arguments),this);return this.__set__&&this.__set__.push(i),i},y.image=function(t,i,n,r,o){var s=e._engine.image(this,t||"about:blank",i||0,n||0,r||0,o||0);return this.__set__&&this.__set__.push(s),s},y.text=function(t,i,n){var r=e._engine.text(this,t||0,i||0,O(n));return this.__set__&&this.__set__.push(r),r},y.set=function(t){!e.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var i=new se(t);return this.__set__&&this.__set__.push(i),i.paper=this,i.type="set",i},y.setStart=function(t){this.__set__=t||this.set()},y.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},y.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},y.setSize=function(t,i){return e._engine.setSize.call(this,t,i)},y.setViewBox=function(t,i,n,r,o){return e._engine.setViewBox.call(this,t,i,n,r,o)},y.top=y.bottom=null,y.raphael=e,y.getElementByPoint=function(t,e){var i=this,n=i.canvas,r=_.doc.elementFromPoint(t,e);if(_.win.opera&&"svg"==r.tagName){var o=function(t){var e=t.getBoundingClientRect(),i=t.ownerDocument,n=i.body,r=i.documentElement,o=r.clientTop||n.clientTop||0,s=r.clientLeft||n.clientLeft||0;return{y:e.top+(_.win.pageYOffset||r.scrollTop||n.scrollTop)-o,x:e.left+(_.win.pageXOffset||r.scrollLeft||n.scrollLeft)-s}}(n),s=n.createSVGRect();s.x=t-o.x,s.y=e-o.y,s.width=s.height=1;var a=n.getIntersectionList(s,null);a.length&&(r=a[a.length-1])}if(!r)return null;for(;r.parentNode&&r!=n.parentNode&&!r.raphael;)r=r.parentNode;return r==i.canvas.parentNode&&(r=n),r&&r.raphael?i.getById(r.raphaelid):null},y.getElementsByBBox=function(t){var i=this.set();return this.forEach(function(n){e.isBBoxIntersect(n.getBBox(),t)&&i.push(n)}),i},y.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},y.forEach=function(t,e){for(var i=this.bottom;i;){if(!1===t.call(e,i))return this;i=i.next}return this},y.getElementsByPoint=function(t,e){var i=this.set();return this.forEach(function(n){n.isPointInside(t,e)&&i.push(n)}),i},Xt.isPointInside=function(t,i){var n=this.realPath=dt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(n=e.transformPath(n,this.attr("transform"))),e.isPointInsidePath(n,t,i)},Xt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?((e.dirty||!e.bboxwt)&&(this.realPath=dt[this.type](this),e.bboxwt=_t(this.realPath),e.bboxwt.toString=d,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&((e.dirty||!this.realPath)&&(e.bboxwt=0,this.realPath=dt[this.type](this)),e.bbox=_t(ft(this.realPath,this.matrix)),e.bbox.toString=d,e.dirty=e.dirtyT=0),e.bbox)},Xt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Xt.glow=function(t){if("text"==this.type)return null;var e={width:((t=t||{}).width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:null==t.opacity?.5:t.opacity,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},i=e.width/2,n=this.paper,r=n.set(),o=this.realPath||dt[this.type](this);o=this.matrix?ft(o,this.matrix):o;for(var s=1;i+1>s;s++)r.push(n.path(o).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/i*s).toFixed(3),opacity:+(e.opacity/i).toFixed(3)}));return r.insertBefore(this).translate(e.offsetx,e.offsety)};var Zt=function(t,i,n,r,o,s,l,h,c){return null==c?a(t,i,n,r,o,s,l,h):e.findDotsAtSegment(t,i,n,r,o,s,l,h,function(t,e,i,n,r,o,s,l,h){if(!(0>h||a(t,e,i,n,r,o,s,l)<h)){var c,u=.5,d=1-u;for(c=a(t,e,i,n,r,o,s,l,d);z(c-h)>.01;)c=a(t,e,i,n,r,o,s,l,d+=(h>c?1:-1)*(u/=2));return d}}(t,i,n,r,o,s,l,h,c))},Qt=function(t,i){return function(n,r,o){for(var s,a,l,h,c,u="",d={},f=0,p=0,g=(n=Mt(n)).length;g>p;p++){if("M"==(l=n[p])[0])s=+l[1],a=+l[2];else{if(f+(h=Zt(s,a,l[1],l[2],l[3],l[4],l[5],l[6]))>r){if(i&&!d.start){if(u+=["C"+(c=Zt(s,a,l[1],l[2],l[3],l[4],l[5],l[6],r-f)).start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],o)return u;d.start=u,u=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,l[5],l[6]].join(),f+=h,s=+l[5],a=+l[6];continue}if(!t&&!i)return{x:(c=Zt(s,a,l[1],l[2],l[3],l[4],l[5],l[6],r-f)).x,y:c.y,alpha:c.alpha}}f+=h,s=+l[5],a=+l[6]}u+=l.shift()+l}return d.end=u,(c=t?f:i?d:e.findDotsAtSegment(s,a,l[0],l[1],l[2],l[3],l[4],l[5],1)).alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},Kt=Qt(1),Jt=Qt(),te=Qt(0,1);e.getTotalLength=Kt,e.getPointAtLength=Jt,e.getSubpath=function(t,e,i){if(this.getTotalLength(t)-i<1e-6)return te(t,e).end;var n=te(t,i,1);return e?te(n,e).end:n},Xt.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():Kt(t)},Xt.getPointAtLength=function(t){var e=this.getPath();if(e)return Jt(e,t)},Xt.getPath=function(){var t,i=e._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return i&&(t=i(this)),t},Xt.getSubpath=function(t,i){var n=this.getPath();if(n)return e.getSubpath(n,t,i)};var ee=e.easing_formulas={linear:function(t){return t},"<":function(t){return H(t,1.7)},">":function(t){return H(t,.48)},"<>":function(t){var e=.48-t/1.04,i=$.sqrt(.1734+e*e),n=i-e,r=-i-e,o=H(z(n),1/3)*(0>n?-1:1)+H(z(r),1/3)*(0>r?-1:1)+.5;return 3*(1-o)*o*o+o*o*o},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:H(2,-10*t)*$.sin(2*(t-.075)*G/.3)+1},bounce:function(t){var e=7.5625,i=2.75;return 1/i>t?e*t*t:2/i>t?e*(t-=1.5/i)*t+.75:2.5/i>t?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375}};ee.easeIn=ee["ease-in"]=ee["<"],ee.easeOut=ee["ease-out"]=ee[">"],ee.easeInOut=ee["ease-in-out"]=ee["<>"],ee["back-in"]=ee.backIn,ee["back-out"]=ee.backOut;var ie=[],ne=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},re=function(){for(var i=+new Date,n=0;n<ie.length;n++){var r=ie[n];if(!r.el.removed&&!r.paused){var o,s,a=i-r.start,l=r.ms,h=r.easing,c=r.from,u=r.diff,d=r.to,f=(r.t,r.el),p={},m={};if(r.initstatus?(a=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*l,r.status=r.initstatus,delete r.initstatus,r.stop&&ie.splice(n--,1)):r.status=(r.prev+(r.percent-r.prev)*(a/l))/r.anim.top,!(0>a))if(l>a){var v=h(a/l);for(var y in c)if(c[C](y)){switch(tt[y]){case j:o=+c[y]+v*l*u[y];break;case"colour":o="rgb("+[oe(U(c[y].r+v*l*u[y].r)),oe(U(c[y].g+v*l*u[y].g)),oe(U(c[y].b+v*l*u[y].b))].join(",")+")";break;case"path":o=[];for(var x=0,b=c[y].length;b>x;x++){o[x]=[c[y][x][0]];for(var w=1,_=c[y][x].length;_>w;w++)o[x][w]=+c[y][x][w]+v*l*u[y][x][w];o[x]=o[x].join(N)}o=o.join(N);break;case"transform":if(u[y].real)for(o=[],x=0,b=c[y].length;b>x;x++)for(o[x]=[c[y][x][0]],w=1,_=c[y][x].length;_>w;w++)o[x][w]=c[y][x][w]+v*l*u[y][x][w];else{var T=function(t){return+c[y][t]+v*l*u[y][t]};o=[["m",T(0),T(1),T(2),T(3),T(4),T(5)]]}break;case"csv":if("clip-rect"==y)for(o=[],x=4;x--;)o[x]=+c[y][x]+v*l*u[y][x];break;default:var k=[][I](c[y]);for(o=[],x=f.paper.customAttributes[y].length;x--;)o[x]=+k[x]+v*l*u[y][x]}p[y]=o}f.attr(p),function(e,i,n){setTimeout(function(){t("raphael.anim.frame."+e,i,n)})}(f.id,f,r.anim)}else{if(function(i,n,r){setTimeout(function(){t("raphael.anim.frame."+n.id,n,r),t("raphael.anim.finish."+n.id,n,r),e.is(i,"function")&&i.call(n)})}(r.callback,f,r.anim),f.attr(d),ie.splice(n--,1),r.repeat>1&&!r.next){for(s in d)d[C](s)&&(m[s]=r.totalOrigin[s]);r.el.attr(m),g(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&g(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}ie.length&&ne(re)},oe=function(t){return t>255?255:0>t?0:t};Xt.animateWith=function(t,i,n,r,o,s){var a=this;if(a.removed)return s&&s.call(a),a;var l=n instanceof p?n:e.animation(n,r,o,s);g(l,a,l.percents[0],null,a.attr());for(var h=0,c=ie.length;c>h;h++)if(ie[h].anim==i&&ie[h].el==t){ie[c-1].start=ie[h].start;break}return a},Xt.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},p.prototype.delay=function(t){var e=new p(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},p.prototype.repeat=function(t){var e=new p(this.anim,this.ms);return e.del=this.del,e.times=$.floor(F(t,0))||1,e},e.animation=function(t,i,n,r){if(t instanceof p)return t;(e.is(n,"function")||!n)&&(r=r||n||null,n=null),t=Object(t),i=+i||0;var o,s,a={};for(s in t)t[C](s)&&Z(s)!=s&&Z(s)+"%"!=s&&(o=!0,a[s]=t[s]);if(o)return n&&(a.easing=n),r&&(a.callback=r),new p({100:a},i);if(r){var l=0;for(var h in t){var c=Q(h);t[C](h)&&c>l&&(l=c)}!t[l+="%"].callback&&(t[l].callback=r)}return new p(t,i)},Xt.animate=function(t,i,n,r){var o=this;if(o.removed)return r&&r.call(o),o;var s=t instanceof p?t:e.animation(t,i,n,r);return g(s,o,s.percents[0],null,o.attr()),o},Xt.setTime=function(t,e){return t&&null!=e&&this.status(t,D(e,t.ms)/t.ms),this},Xt.status=function(t,e){var i,n,r=[],o=0;if(null!=e)return g(t,this,-1,D(e,1)),this;for(i=ie.length;i>o;o++)if((n=ie[o]).el.id==this.id&&(!t||n.anim==t)){if(t)return n.status;r.push({anim:n.anim,status:n.status})}return t?0:r},Xt.pause=function(e){for(var i=0;i<ie.length;i++)ie[i].el.id!=this.id||e&&ie[i].anim!=e||!1!==t("raphael.anim.pause."+this.id,this,ie[i].anim)&&(ie[i].paused=!0);return this},Xt.resume=function(e){for(var i=0;i<ie.length;i++)if(ie[i].el.id==this.id&&(!e||ie[i].anim==e)){var n=ie[i];!1!==t("raphael.anim.resume."+this.id,this,n.anim)&&(delete n.paused,this.status(n.anim,n.status))}return this},Xt.stop=function(e){for(var i=0;i<ie.length;i++)ie[i].el.id!=this.id||e&&ie[i].anim!=e||!1!==t("raphael.anim.stop."+this.id,this,ie[i].anim)&&ie.splice(i--,1);return this},t.on("raphael.remove",m),t.on("raphael.clear",m),Xt.toString=function(){return"Raphaël’s object"};var se=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,i=t.length;i>e;e++)!t[e]||t[e].constructor!=Xt.constructor&&t[e].constructor!=se||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},ae=se.prototype;for(var le in ae.push=function(){for(var t,e,i=0,n=arguments.length;n>i;i++)!(t=arguments[i])||t.constructor!=Xt.constructor&&t.constructor!=se||(this[e=this.items.length]=this.items[e]=t,this.length++);return this},ae.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ae.forEach=function(t,e){for(var i=0,n=this.items.length;n>i;i++)if(!1===t.call(e,this.items[i],i))return this;return this},Xt)Xt[C](le)&&(ae[le]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t][S](i,e)})}}(le));return ae.attr=function(t,i){if(t&&e.is(t,R)&&e.is(t[0],"object"))for(var n=0,r=t.length;r>n;n++)this.items[n].attr(t[n]);else for(var o=0,s=this.items.length;s>o;o++)this.items[o].attr(t,i);return this},ae.clear=function(){for(;this.length;)this.pop()},ae.splice=function(t,e,i){t=0>t?F(this.length+t,0):t,e=F(0,D(this.length-t,e));var n,r=[],o=[],s=[];for(n=2;n<arguments.length;n++)s.push(arguments[n]);for(n=0;e>n;n++)o.push(this[t+n]);for(;n<this.length-t;n++)r.push(this[t+n]);var a=s.length;for(n=0;n<a+r.length;n++)this.items[t+n]=this[t+n]=a>n?s[n]:r[n-a];for(n=this.items.length=this.length-=e-a;this[n];)delete this[n++];return new se(o)},ae.exclude=function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]==t)return this.splice(e,1),!0},ae.animate=function(t,i,n,r){(e.is(n,"function")||!n)&&(r=n||null);var o,s,a=this.items.length,l=a,h=this;if(!a)return this;r&&(s=function(){!--a&&r.call(h)}),n=e.is(n,q)?n:s;var c=e.animation(t,i,n,s);for(o=this.items[--l].animate(c);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(o,c,c),this.items[l]&&!this.items[l].removed||a--;return this},ae.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},ae.getBBox=function(){for(var t=[],e=[],i=[],n=[],r=this.items.length;r--;)if(!this.items[r].removed){var o=this.items[r].getBBox();t.push(o.x),e.push(o.y),i.push(o.x+o.width),n.push(o.y+o.height)}return{x:t=D[S](0,t),y:e=D[S](0,e),x2:i=F[S](0,i),y2:n=F[S](0,n),width:i-t,height:n-e}},ae.clone=function(t){t=this.paper.set();for(var e=0,i=this.items.length;i>e;e++)t.push(this.items[e].clone());return t},ae.toString=function(){return"Raphaël‘s set"},ae.glow=function(t){var e=this.paper.set();return this.forEach(function(i,n){var r=i.glow(t);null!=r&&r.forEach(function(t,i){e.push(t)})}),e},ae.isPointInside=function(t,e){var i=!1;return this.forEach(function(n){return n.isPointInside(t,e)?(i=!0,!1):void 0}),i},e.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},i=t.face["font-family"];for(var n in t.face)t.face[C](n)&&(e.face[n]=t.face[n]);if(this.fonts[i]?this.fonts[i].push(e):this.fonts[i]=[e],!t.svg)for(var r in e.face["units-per-em"]=Q(t.face["units-per-em"],10),t.glyphs)if(t.glyphs[C](r)){var o=t.glyphs[r];if(e.glyphs[r]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},o.k)for(var s in o.k)o[C](s)&&(e.glyphs[r].k[s]=o.k[s])}return t},y.getFont=function(t,i,n,r){if(r=r||"normal",n=n||"normal",i=+i||{normal:400,bold:700,lighter:300,bolder:800}[i]||400,e.fonts){var o,s=e.fonts[t];if(!s){var a=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,B)+"(\\s|$)","i");for(var l in e.fonts)if(e.fonts[C](l)&&a.test(l)){s=e.fonts[l];break}}if(s)for(var h=0,c=s.length;c>h&&((o=s[h]).face["font-weight"]!=i||o.face["font-style"]!=n&&o.face["font-style"]||o.face["font-stretch"]!=r);h++);return o}},y.print=function(t,i,n,r,o,s,a,l){s=s||"middle",a=F(D(a||0,1),-1),l=F(D(l||1,3),1);var h,c=O(n)[M](B),u=0,d=0,f=B;if(e.is(r,"string")&&(r=this.getFont(r)),r){h=(o||16)/r.face["units-per-em"];for(var p=r.face.bbox[M](x),g=+p[0],m=p[3]-p[1],v=0,y=+p[1]+("baseline"==s?m+ +r.face.descent:m/2),b=0,w=c.length;w>b;b++){if("\n"==c[b])u=0,_=0,d=0,v+=m*l;else{var C=d&&r.glyphs[c[b-1]]||{},_=r.glyphs[c[b]];u+=d?(C.w||r.w)+(C.k&&C.k[c[b]]||0)+r.w*a:0,d=1}_&&_.d&&(f+=e.transformPath(_.d,["t",u*h,v*h,"s",h,h,g,y,"t",(t-g)/h,(i-y)/h]))}}return this.path(f).attr({fill:"#000",stroke:"none"})},y.add=function(t){if(e.is(t,"array"))for(var i,n=this.set(),r=0,o=t.length;o>r;r++)i=t[r]||{},b[C](i.type)&&n.push(this[i.type]().attr(i));return n},e.format=function(t,i){var n=e.is(i,R)?[0][I](i):arguments;return t&&e.is(t,q)&&n.length-1&&(t=t.replace(w,function(t,e){return null==n[++e]?B:n[e]})),t||B},e.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(t,i,n){var r=n;return i.replace(e,function(t,e,i,n,o){e=e||n,r&&(e in r&&(r=r[e]),"function"==typeof r&&o&&(r=r()))}),r=(null==r||r==n?t:r)+""};return function(e,n){return String(e).replace(t,function(t,e){return i(t,e,n)})}}(),e.ninja=function(){return T.was?_.win.Raphael=T.is:delete Raphael,e},e.st=ae,t.on("raphael.DOMload",function(){v=!0}),function(t,i,n){null==t.readyState&&t.addEventListener&&(t.addEventListener(i,n=function(){t.removeEventListener(i,n,!1),t.readyState="complete"},!1),t.readyState="loading"),function i(){/in/.test(t.readyState)?setTimeout(i,9):e.eve("raphael.DOMload")}()}(document,"DOMContentLoaded"),e}),function(t,e){"function"==typeof define&&define.amd?define("raphael.svg",["raphael.core"],function(t){return e(t)}):e("object"==typeof exports?require("./raphael.core"):t.Raphael)}(this,function(t){if(!t||t.svg){var e="hasOwnProperty",i=String,n=parseFloat,r=parseInt,o=Math,s=o.max,a=o.abs,l=o.pow,h=/[, ]+/,c=t.eve,u="",d=" ",f="http://www.w3.org/1999/xlink",p={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};t.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var m=function(n,r){if(r)for(var o in"string"==typeof n&&(n=m(n)),r)r[e](o)&&("xlink:"==o.substring(0,6)?n.setAttributeNS(f,o.substring(6),i(r[o])):n.setAttribute(o,i(r[o])));else(n=t._g.doc.createElementNS("http://www.w3.org/2000/svg",n)).style&&(n.style.webkitTapHighlightColor="rgba(0,0,0,0)");return n},v=function(e,r){var h="linear",c=e.id+r,d=.5,f=.5,p=e.node,g=e.paper,v=p.style,y=t._g.doc.getElementById(c);if(!y){if(r=(r=i(r).replace(t._radial_gradient,function(t,e,i){if(h="radial",e&&i){d=n(e);var r=2*((f=n(i))>.5)-1;l(d-.5,2)+l(f-.5,2)>.25&&(f=o.sqrt(.25-l(d-.5,2))*r+.5)&&.5!=f&&(f=f.toFixed(5)-1e-5*r)}return u})).split(/\s*\-\s*/),"linear"==h){var x=r.shift();if(x=-n(x),isNaN(x))return null;var b=[0,0,o.cos(t.rad(x)),o.sin(t.rad(x))],w=1/(s(a(b[2]),a(b[3]))||1);b[2]*=w,b[3]*=w,b[2]<0&&(b[0]=-b[2],b[2]=0),b[3]<0&&(b[1]=-b[3],b[3]=0)}var C=t._parseDots(r);if(!C)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&c!=e.gradient.id&&(g.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){y=m(h+"Gradient",{id:c}),e.gradient=y,m(y,"radial"==h?{fx:d,fy:f}:{x1:b[0],y1:b[1],x2:b[2],y2:b[3],gradientTransform:e.matrix.invert()}),g.defs.appendChild(y);for(var _=0,T=C.length;T>_;_++)y.appendChild(m("stop",{offset:C[_].offset?C[_].offset:_?"100%":"0%","stop-color":C[_].color||"#fff","stop-opacity":isFinite(C[_].opacity)?C[_].opacity:1}))}}return m(p,{fill:"url('"+document.location.origin+document.location.pathname+"#"+c+"')",opacity:1,"fill-opacity":1}),v.fill=u,v.opacity=1,v.fillOpacity=1,1},y=function(t){var e=t.getBBox(1);m(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},x=function(n,r,o){if("path"==n.type){for(var s,a,l,h,c,d=i(r).toLowerCase().split("-"),f=n.paper,v=o?"end":"start",y=n.node,x=n.attrs,b=x["stroke-width"],w=d.length,C="classic",_=3,T=3,k=5;w--;)switch(d[w]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":C=d[w];break;case"wide":T=5;break;case"narrow":T=2;break;case"long":_=5;break;case"short":_=2}if("open"==C?(_+=2,T+=2,k+=2,l=1,h=o?4:1,c={fill:"none",stroke:x.stroke}):(h=l=_/2,c={fill:x.stroke,stroke:"none"}),n._.arrows?o?(n._.arrows.endPath&&g[n._.arrows.endPath]--,n._.arrows.endMarker&&g[n._.arrows.endMarker]--):(n._.arrows.startPath&&g[n._.arrows.startPath]--,n._.arrows.startMarker&&g[n._.arrows.startMarker]--):n._.arrows={},"none"!=C){var S="raphael-marker-"+C,I="raphael-marker-"+v+C+_+T+"-obj"+n.id;t._g.doc.getElementById(S)?g[S]++:(f.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:p[C],id:S})),g[S]=1);var A,B=t._g.doc.getElementById(I);B?(g[I]++,A=B.getElementsByTagName("use")[0]):(B=m(m("marker"),{id:I,markerHeight:T,markerWidth:_,orient:"auto",refX:h,refY:T/2}),A=m(m("use"),{"xlink:href":"#"+S,transform:(o?"rotate(180 "+_/2+" "+T/2+") ":u)+"scale("+_/k+","+T/k+")","stroke-width":(1/((_/k+T/k)/2)).toFixed(4)}),B.appendChild(A),f.defs.appendChild(B),g[I]=1),m(A,c);var N=l*("diamond"!=C&&"oval"!=C);o?(s=n._.arrows.startdx*b||0,a=t.getTotalLength(x.path)-N*b):(s=N*b,a=t.getTotalLength(x.path)-(n._.arrows.enddx*b||0)),(c={})["marker-"+v]="url(#"+I+")",(a||s)&&(c.d=t.getSubpath(x.path,s,a)),m(y,c),n._.arrows[v+"Path"]=S,n._.arrows[v+"Marker"]=I,n._.arrows[v+"dx"]=N,n._.arrows[v+"Type"]=C,n._.arrows[v+"String"]=r}else o?(s=n._.arrows.startdx*b||0,a=t.getTotalLength(x.path)-s):(s=0,a=t.getTotalLength(x.path)-(n._.arrows.enddx*b||0)),n._.arrows[v+"Path"]&&m(y,{d:t.getSubpath(x.path,s,a)}),delete n._.arrows[v+"Path"],delete n._.arrows[v+"Marker"],delete n._.arrows[v+"dx"],delete n._.arrows[v+"Type"],delete n._.arrows[v+"String"];for(c in g)if(g[e](c)&&!g[c]){var O=t._g.doc.getElementById(c);O&&O.parentNode.removeChild(O)}}},b={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},w=function(t,e,n){if(e=b[i(e).toLowerCase()]){for(var r=t.attrs["stroke-width"]||"1",o={round:r,square:r,butt:0}[t.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,s=[],a=e.length;a--;)s[a]=e[a]*r+(a%2?1:-1)*o;m(t.node,{"stroke-dasharray":s.join(",")})}else m(t.node,{"stroke-dasharray":"none"})},C=function(n,o){var l=n.node,c=n.attrs,d=l.style.visibility;for(var p in l.style.visibility="hidden",o)if(o[e](p)){if(!t._availableAttrs[e](p))continue;var g=o[p];switch(c[p]=g,p){case"blur":n.blur(g);break;case"title":var b=l.getElementsByTagName("title");if(b.length&&(b=b[0]))b.firstChild.nodeValue=g;else{b=m("title");var C=t._g.doc.createTextNode(g);b.appendChild(C),l.appendChild(b)}break;case"href":case"target":var T=l.parentNode;if("a"!=T.tagName.toLowerCase()){var k=m("a");T.insertBefore(k,l),k.appendChild(l),T=k}"target"==p?T.setAttributeNS(f,"show","blank"==g?"new":g):T.setAttributeNS(f,p,g);break;case"cursor":l.style.cursor=g;break;case"transform":n.transform(g);break;case"arrow-start":x(n,g);break;case"arrow-end":x(n,g,1);break;case"clip-rect":var S=i(g).split(h);if(4==S.length){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var I=m("clipPath"),A=m("rect");I.id=t.createUUID(),m(A,{x:S[0],y:S[1],width:S[2],height:S[3]}),I.appendChild(A),n.paper.defs.appendChild(I),m(l,{"clip-path":"url(#"+I.id+")"}),n.clip=A}if(!g){var B=l.getAttribute("clip-path");if(B){var N=t._g.doc.getElementById(B.replace(/(^url\(#|\)$)/g,u));N&&N.parentNode.removeChild(N),m(l,{"clip-path":u}),delete n.clip}}break;case"path":"path"==n.type&&(m(l,{d:g?c.path=t._pathToAbsolute(g):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&x(n,n._.arrows.startString),"endString"in n._.arrows&&x(n,n._.arrows.endString,1)));break;case"width":if(l.setAttribute(p,g),n._.dirty=1,!c.fx)break;p="x",g=c.x;case"x":c.fx&&(g=-c.x-(c.width||0));case"rx":if("rx"==p&&"rect"==n.type)break;case"cx":l.setAttribute(p,g),n.pattern&&y(n),n._.dirty=1;break;case"height":if(l.setAttribute(p,g),n._.dirty=1,!c.fy)break;p="y",g=c.y;case"y":c.fy&&(g=-c.y-(c.height||0));case"ry":if("ry"==p&&"rect"==n.type)break;case"cy":l.setAttribute(p,g),n.pattern&&y(n),n._.dirty=1;break;case"r":"rect"==n.type?m(l,{rx:g,ry:g}):l.setAttribute(p,g),n._.dirty=1;break;case"src":"image"==n.type&&l.setAttributeNS(f,"href",g);break;case"stroke-width":(1!=n._.sx||1!=n._.sy)&&(g/=s(a(n._.sx),a(n._.sy))||1),l.setAttribute(p,g),c["stroke-dasharray"]&&w(n,c["stroke-dasharray"],o),n._.arrows&&("startString"in n._.arrows&&x(n,n._.arrows.startString),"endString"in n._.arrows&&x(n,n._.arrows.endString,1));break;case"stroke-dasharray":w(n,g,o);break;case"fill":var O=i(g).match(t._ISURL);if(O){I=m("pattern");var M=m("image");I.id=t.createUUID(),m(I,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(M,{x:0,y:0,"xlink:href":O[1]}),I.appendChild(M),function(e){t._preload(O[1],function(){var t=this.offsetWidth,i=this.offsetHeight;m(e,{width:t,height:i}),m(M,{width:t,height:i})})}(I),n.paper.defs.appendChild(I),m(l,{fill:"url(#"+I.id+")"}),n.pattern=I,n.pattern&&y(n);break}var E=t.getRGB(g);if(E.error){if(("circle"==n.type||"ellipse"==n.type||"r"!=i(g).charAt())&&v(n,g)){if("opacity"in c||"fill-opacity"in c){var P=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u));if(P){var L=P.getElementsByTagName("stop");m(L[L.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=g,c.fill="none";break}}else delete o.gradient,delete c.gradient,!t.is(c.opacity,"undefined")&&t.is(o.opacity,"undefined")&&m(l,{opacity:c.opacity}),!t.is(c["fill-opacity"],"undefined")&&t.is(o["fill-opacity"],"undefined")&&m(l,{"fill-opacity":c["fill-opacity"]});E[e]("opacity")&&m(l,{"fill-opacity":E.opacity>1?E.opacity/100:E.opacity});case"stroke":E=t.getRGB(g),l.setAttribute(p,E.hex),"stroke"==p&&E[e]("opacity")&&m(l,{"stroke-opacity":E.opacity>1?E.opacity/100:E.opacity}),"stroke"==p&&n._.arrows&&("startString"in n._.arrows&&x(n,n._.arrows.startString),"endString"in n._.arrows&&x(n,n._.arrows.endString,1));break;case"gradient":("circle"==n.type||"ellipse"==n.type||"r"!=i(g).charAt())&&v(n,g);break;case"opacity":c.gradient&&!c[e]("stroke-opacity")&&m(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(c.gradient){(P=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u)))&&(L=P.getElementsByTagName("stop"),m(L[L.length-1],{"stop-opacity":g}));break}default:"font-size"==p&&(g=r(g,10)+"px");var $=p.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[$]=g,n._.dirty=1,l.setAttribute(p,g)}}_(n,o),l.style.visibility=d},_=function(n,o){if("text"==n.type&&(o[e]("text")||o[e]("font")||o[e]("font-size")||o[e]("x")||o[e]("y"))){var s=n.attrs,a=n.node,l=a.firstChild?r(t._g.doc.defaultView.getComputedStyle(a.firstChild,u).getPropertyValue("font-size"),10):10;if(o[e]("text")){for(s.text=o.text;a.firstChild;)a.removeChild(a.firstChild);for(var h,c=i(o.text).split("\n"),d=[],f=0,p=c.length;p>f;f++)h=m("tspan"),f&&m(h,{dy:1.2*l,x:s.x}),h.appendChild(t._g.doc.createTextNode(c[f])),a.appendChild(h),d[f]=h}else for(f=0,p=(d=a.getElementsByTagName("tspan")).length;p>f;f++)f?m(d[f],{dy:1.2*l,x:s.x}):m(d[0],{dy:0});m(a,{x:s.x,y:s.y}),n._.dirty=1;var g=n._getBBox(),v=s.y-(g.y+g.height/2);v&&t.is(v,"finite")&&m(d[0],{dy:v})}},T=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},k=function(e,i){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=i,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},S=t.el;k.prototype=S,S.constructor=k,t._engine.path=function(t,e){var i=m("path");e.canvas&&e.canvas.appendChild(i);var n=new k(i,e);return n.type="path",C(n,{fill:"none",stroke:"#000",path:t}),n},S.rotate=function(t,e,r){if(this.removed)return this;if((t=i(t).split(h)).length-1&&(e=n(t[1]),r=n(t[2])),t=n(t[0]),null==r&&(e=r),null==e||null==r){var o=this.getBBox(1);e=o.x+o.width/2,r=o.y+o.height/2}return this.transform(this._.transform.concat([["r",t,e,r]])),this},S.scale=function(t,e,r,o){if(this.removed)return this;if((t=i(t).split(h)).length-1&&(e=n(t[1]),r=n(t[2]),o=n(t[3])),t=n(t[0]),null==e&&(e=t),null==o&&(r=o),null==r||null==o)var s=this.getBBox(1);return r=null==r?s.x+s.width/2:r,o=null==o?s.y+s.height/2:o,this.transform(this._.transform.concat([["s",t,e,r,o]])),this},S.translate=function(t,e){return this.removed?this:((t=i(t).split(h)).length-1&&(e=n(t[1])),t=n(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]])),this)},S.transform=function(i){var n=this._;if(null==i)return n.transform;if(t._extractTransform(this,i),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&y(this),this.node&&m(this.node,{transform:this.matrix}),1!=n.sx||1!=n.sy){var r=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":r})}return n.transform=this.matrix.toTransformString(),this},S.hide=function(){return this.removed||(this.node.style.display="none"),this},S.show=function(){return this.removed||(this.node.style.display=""),this},S.remove=function(){var e=T(this.node);if(!this.removed&&e.parentNode){var i=this.paper;for(var n in i.__set__&&i.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&i.defs.removeChild(this.gradient),t._tear(this,i),e.parentNode.removeChild(e),this.removeData(),this)this[n]="function"==typeof this[n]?t._removedFactory(n):null;this.removed=!0}},S._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,i=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(i=!0,e.display="");var n={};try{n=this.node.getBBox()}catch(t){n={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{n=n||{},i&&(e.display="none")}return t&&this.hide(),n},S.attr=function(i,n){if(this.removed)return this;if(null==i){var r={};for(var o in this.attrs)this.attrs[e](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==n&&t.is(i,"string")){if("fill"==i&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==i)return this._.transform;for(var s=i.split(h),a={},l=0,u=s.length;u>l;l++)(i=s[l])in this.attrs?a[i]=this.attrs[i]:t.is(this.paper.customAttributes[i],"function")?a[i]=this.paper.customAttributes[i].def:a[i]=t._availableAttrs[i];return u-1?a:a[s[0]]}if(null==n&&t.is(i,"array")){for(a={},l=0,u=i.length;u>l;l++)a[i[l]]=this.attr(i[l]);return a}if(null!=n){var d={};d[i]=n}else null!=i&&t.is(i,"object")&&(d=i);for(var f in d)c("raphael.attr."+f+"."+this.id,this,d[f]);for(f in this.paper.customAttributes)if(this.paper.customAttributes[e](f)&&d[e](f)&&t.is(this.paper.customAttributes[f],"function")){var p=this.paper.customAttributes[f].apply(this,[].concat(d[f]));for(var g in this.attrs[f]=d[f],p)p[e](g)&&(d[g]=p[g])}return C(this,d),this},S.toFront=function(){if(this.removed)return this;var e=T(this.node);e.parentNode.appendChild(e);var i=this.paper;return i.top!=this&&t._tofront(this,i),this},S.toBack=function(){if(this.removed)return this;var e=T(this.node),i=e.parentNode;return i.insertBefore(e,i.firstChild),t._toback(this,this.paper),this.paper,this},S.insertAfter=function(e){if(this.removed||!e)return this;var i=T(this.node),n=T(e.node||e[e.length-1].node);return n.nextSibling?n.parentNode.insertBefore(i,n.nextSibling):n.parentNode.appendChild(i),t._insertafter(this,e,this.paper),this},S.insertBefore=function(e){if(this.removed||!e)return this;var i=T(this.node),n=T(e.node||e[0].node);return n.parentNode.insertBefore(i,n),t._insertbefore(this,e,this.paper),this},S.blur=function(e){var i=this;if(0!=+e){var n=m("filter"),r=m("feGaussianBlur");i.attrs.blur=e,n.id=t.createUUID(),m(r,{stdDeviation:+e||1.5}),n.appendChild(r),i.paper.defs.appendChild(n),i._blur=n,m(i.node,{filter:"url(#"+n.id+")"})}else i._blur&&(i._blur.parentNode.removeChild(i._blur),delete i._blur,delete i.attrs.blur),i.node.removeAttribute("filter");return i},t._engine.circle=function(t,e,i,n){var r=m("circle");t.canvas&&t.canvas.appendChild(r);var o=new k(r,t);return o.attrs={cx:e,cy:i,r:n,fill:"none",stroke:"#000"},o.type="circle",m(r,o.attrs),o},t._engine.rect=function(t,e,i,n,r,o){var s=m("rect");t.canvas&&t.canvas.appendChild(s);var a=new k(s,t);return a.attrs={x:e,y:i,width:n,height:r,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},a.type="rect",m(s,a.attrs),a},t._engine.ellipse=function(t,e,i,n,r){var o=m("ellipse");t.canvas&&t.canvas.appendChild(o);var s=new k(o,t);return s.attrs={cx:e,cy:i,rx:n,ry:r,fill:"none",stroke:"#000"},s.type="ellipse",m(o,s.attrs),s},t._engine.image=function(t,e,i,n,r,o){var s=m("image");m(s,{x:i,y:n,width:r,height:o,preserveAspectRatio:"none"}),s.setAttributeNS(f,"href",e),t.canvas&&t.canvas.appendChild(s);var a=new k(s,t);return a.attrs={x:i,y:n,width:r,height:o,src:e},a.type="image",a},t._engine.text=function(e,i,n,r){var o=m("text");e.canvas&&e.canvas.appendChild(o);var s=new k(o,e);return s.attrs={x:i,y:n,"text-anchor":"middle",text:r,"font-family":t._availableAttrs["font-family"],"font-size":t._availableAttrs["font-size"],stroke:"none",fill:"#000"},s.type="text",C(s,s.attrs),s},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),i=e&&e.container,n=e.x,r=e.y,o=e.width,s=e.height;if(!i)throw new Error("SVG container not found.");var a,l=m("svg"),h="overflow:hidden;";return n=n||0,r=r||0,m(l,{height:s=s||342,version:1.1,width:o=o||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==i?(l.style.cssText=h+"position:absolute;left:"+n+"px;top:"+r+"px",t._g.doc.body.appendChild(l),a=1):(l.style.cssText=h+"position:relative",i.firstChild?i.insertBefore(l,i.firstChild):i.appendChild(l)),(i=new t._Paper).width=o,i.height=s,i.canvas=l,i.clear(),i._left=i._top=0,a&&(i.renderfix=function(){}),i.renderfix(),i},t._engine.setViewBox=function(t,e,i,n,r){c("raphael.setViewBox",this,this._viewBox,[t,e,i,n,r]);var o,a,l=this.getSize(),h=s(i/l.width,n/l.height),u=this.top,f=r?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(h=1),delete this._vbSize,o="0 0 "+this.width+d+this.height):(this._vbSize=h,o=t+d+e+d+i+d+n),m(this.canvas,{viewBox:o,preserveAspectRatio:f});h&&u;)a="stroke-width"in u.attrs?u.attrs["stroke-width"]:1,u.attr({"stroke-width":a}),u._.dirty=1,u._.dirtyT=1,u=u.prev;return this._viewBox=[t,e,i,n,!!r],this},t.prototype.renderfix=function(){var t,e=this.canvas,i=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(i){t=e.createSVGMatrix()}var n=-t.e%1,r=-t.f%1;(n||r)&&(n&&(this._left=(this._left+n)%1,i.left=this._left+"px"),r&&(this._top=(this._top+r)%1,i.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(t._g.doc.createTextNode("Created with Raphaël "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=m("defs"))},t.prototype.remove=function(){for(var e in c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var I=t.st;for(var A in S)S[e](A)&&!I[e](A)&&(I[A]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(A))}}),function(t,e){"function"==typeof define&&define.amd?define("raphael.vml",["raphael.core"],function(t){return e(t)}):e("object"==typeof exports?require("./raphael.core"):t.Raphael)}(this,function(t){if(!t||t.vml){var e="hasOwnProperty",i=String,n=parseFloat,r=Math,o=r.round,s=r.max,a=r.min,l=r.abs,h="fill",c=/[, ]+/,u=t.eve,d=" ",f="",p={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},g=/([clmz]),?([^clmz]*)/gi,m=/ progid:\S+Blur\([^\)]+\)/g,v=/-?[^,\s-]+/g,y="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",x=21600,b={path:1,rect:1,image:1},w={circle:1,ellipse:1},C=function(e){var n=/[ahqstv]/gi,r=t._pathToAbsolute;if(i(e).match(n)&&(r=t._path2curve),n=/[clmz]/g,r==t._pathToAbsolute&&!i(e).match(n)){var s=i(e).replace(g,function(t,e,i){var n=[],r="m"==e.toLowerCase(),s=p[e];return i.replace(v,function(t){r&&2==n.length&&(s+=n+p["m"==e?"l":"L"],n=[]),n.push(o(t*x))}),s+n});return s}var a,l,h=r(e);s=[];for(var c=0,u=h.length;u>c;c++){a=h[c],"z"==(l=h[c][0].toLowerCase())&&(l="x");for(var m=1,y=a.length;y>m;m++)l+=o(a[m]*x)+(m!=y-1?",":f);s.push(l)}return s.join(d)},_=function(e,i,n){var r=t.matrix();return r.rotate(-e,.5,.5),{dx:r.x(i,n),dy:r.y(i,n)}},T=function(t,e,i,n,r,o){var s=t._,a=t.matrix,c=s.fillpos,u=t.node,f=u.style,p=1,g="",m=x/e,v=x/i;if(f.visibility="hidden",e&&i){if(u.coordsize=l(m)+d+l(v),f.rotation=o*(0>e*i?-1:1),o){var y=_(o,n,r);n=y.dx,r=y.dy}if(0>e&&(g+="x"),0>i&&(g+=" y")&&(p=-1),f.flip=g,u.coordorigin=n*-m+d+r*-v,c||s.fillsize){var b=u.getElementsByTagName(h);b=b&&b[0],u.removeChild(b),c&&(y=_(o,a.x(c[0],c[1]),a.y(c[0],c[1])),b.position=y.dx*p+d+y.dy*p),s.fillsize&&(b.size=s.fillsize[0]*l(e)+d+s.fillsize[1]*l(i)),u.appendChild(b)}f.visibility="visible"}};t.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var k,S=function(t,e,n){for(var r=i(e).toLowerCase().split("-"),o=n?"end":"start",s=r.length,a="classic",l="medium",h="medium";s--;)switch(r[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=r[s];break;case"wide":case"narrow":h=r[s];break;case"long":case"short":l=r[s]}var c=t.node.getElementsByTagName("stroke")[0];c[o+"arrow"]=a,c[o+"arrowlength"]=l,c[o+"arrowwidth"]=h},I=function(r,l){r.attrs=r.attrs||{};var u=r.node,p=r.attrs,g=u.style,m=b[r.type]&&(l.x!=p.x||l.y!=p.y||l.width!=p.width||l.height!=p.height||l.cx!=p.cx||l.cy!=p.cy||l.rx!=p.rx||l.ry!=p.ry||l.r!=p.r),v=w[r.type]&&(p.cx!=l.cx||p.cy!=l.cy||p.r!=l.r||p.rx!=l.rx||p.ry!=l.ry),y=r;for(var _ in l)l[e](_)&&(p[_]=l[_]);if(m&&(p.path=t._getPath[r.type](r),r._.dirty=1),l.href&&(u.href=l.href),l.title&&(u.title=l.title),l.target&&(u.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&r.blur(l.blur),(l.path&&"path"==r.type||m)&&(u.path=C(~i(p.path).toLowerCase().indexOf("r")?t._pathToAbsolute(p.path):p.path),r._.dirty=1,"image"==r.type&&(r._.fillpos=[p.x,p.y],r._.fillsize=[p.width,p.height],T(r,1,1,0,0,0))),"transform"in l&&r.transform(l.transform),v){var I=+p.cx,B=+p.cy,N=+p.rx||+p.r||0,O=+p.ry||+p.r||0;u.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",o((I-N)*x),o((B-O)*x),o((I+N)*x),o((B+O)*x),o(I*x)),r._.dirty=1}if("clip-rect"in l){var M=i(l["clip-rect"]).split(c);if(4==M.length){M[2]=+M[2]+ +M[0],M[3]=+M[3]+ +M[1];var E=u.clipRect||t._g.doc.createElement("div"),P=E.style;P.clip=t.format("rect({1}px {2}px {3}px {0}px)",M),u.clipRect||(P.position="absolute",P.top=0,P.left=0,P.width=r.paper.width+"px",P.height=r.paper.height+"px",u.parentNode.insertBefore(E,u),E.appendChild(u),u.clipRect=E)}l["clip-rect"]||u.clipRect&&(u.clipRect.style.clip="auto")}if(r.textpath){var L=r.textpath.style;l.font&&(L.font=l.font),l["font-family"]&&(L.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,f)+'"'),l["font-size"]&&(L.fontSize=l["font-size"]),l["font-weight"]&&(L.fontWeight=l["font-weight"]),l["font-style"]&&(L.fontStyle=l["font-style"])}if("arrow-start"in l&&S(y,l["arrow-start"]),"arrow-end"in l&&S(y,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var $=u.getElementsByTagName(h);if(!($=$&&$[0])&&($=k(h)),"image"==r.type&&l.src&&($.src=l.src),l.fill&&($.on=!0),(null==$.on||"none"==l.fill||null===l.fill)&&($.on=!1),$.on&&l.fill){var F=i(l.fill).match(t._ISURL);if(F){$.parentNode==u&&u.removeChild($),$.rotate=!0,$.src=F[1],$.type="tile";var D=r.getBBox(1);$.position=D.x+d+D.y,r._.fillpos=[D.x,D.y],t._preload(F[1],function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]})}else $.color=t.getRGB(l.fill).hex,$.src=f,$.type="solid",t.getRGB(l.fill).error&&(y.type in{circle:1,ellipse:1}||"r"!=i(l.fill).charAt())&&A(y,l.fill,$)&&(p.fill="none",p.gradient=l.fill,$.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var z=((+p["fill-opacity"]+1||2)-1)*((+p.opacity+1||2)-1)*((+t.getRGB(l.fill).o+1||2)-1);z=a(s(z,0),1),$.opacity=z,$.src&&($.color="none")}u.appendChild($);var H=u.getElementsByTagName("stroke")&&u.getElementsByTagName("stroke")[0],G=!1;!H&&(G=H=k("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(H.on=!0),("none"==l.stroke||null===l.stroke||null==H.on||0==l.stroke||0==l["stroke-width"])&&(H.on=!1);var j=t.getRGB(l.stroke);H.on&&l.stroke&&(H.color=j.hex),z=((+p["stroke-opacity"]+1||2)-1)*((+p.opacity+1||2)-1)*((+j.o+1||2)-1);var q=.75*(n(l["stroke-width"])||1);if(z=a(s(z,0),1),null==l["stroke-width"]&&(q=p["stroke-width"]),l["stroke-width"]&&(H.weight=q),q&&1>q&&(z*=q)&&(H.weight=1),H.opacity=z,l["stroke-linejoin"]&&(H.joinstyle=l["stroke-linejoin"]||"miter"),H.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(H.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var R={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};H.dashstyle=R[e](l["stroke-dasharray"])?R[l["stroke-dasharray"]]:f}G&&u.appendChild(H)}if("text"==y.type){y.paper.canvas.style.display=f;var W=y.paper.span,Y=p.font&&p.font.match(/\d+(?:\.\d*)?(?=px)/);g=W.style,p.font&&(g.font=p.font),p["font-family"]&&(g.fontFamily=p["font-family"]),p["font-weight"]&&(g.fontWeight=p["font-weight"]),p["font-style"]&&(g.fontStyle=p["font-style"]),Y=n(p["font-size"]||Y&&Y[0])||10,g.fontSize=100*Y+"px",y.textpath.string&&(W.innerHTML=i(y.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var X=W.getBoundingClientRect();y.W=p.w=(X.right-X.left)/100,y.H=p.h=(X.bottom-X.top)/100,y.X=p.x,y.Y=p.y+y.H/2,("x"in l||"y"in l)&&(y.path.v=t.format("m{0},{1}l{2},{1}",o(p.x*x),o(p.y*x),o(p.x*x)+1));for(var V=["x","y","text","font","font-family","font-weight","font-style","font-size"],U=0,Z=V.length;Z>U;U++)if(V[U]in l){y._.dirty=1;break}switch(p["text-anchor"]){case"start":y.textpath.style["v-text-align"]="left",y.bbx=y.W/2;break;case"end":y.textpath.style["v-text-align"]="right",y.bbx=-y.W/2;break;default:y.textpath.style["v-text-align"]="center",y.bbx=0}y.textpath.style["v-text-kern"]=!0}},A=function(e,o,s){e.attrs=e.attrs||{};var a=(e.attrs,Math.pow),l="linear",h=".5 .5";if(e.attrs.gradient=o,o=(o=i(o).replace(t._radial_gradient,function(t,e,i){return l="radial",e&&i&&(e=n(e),i=n(i),a(e-.5,2)+a(i-.5,2)>.25&&(i=r.sqrt(.25-a(e-.5,2))*(2*(i>.5)-1)+.5),h=e+d+i),f})).split(/\s*\-\s*/),"linear"==l){var c=o.shift();if(c=-n(c),isNaN(c))return null}var u=t._parseDots(o);if(!u)return null;if(e=e.shape||e.node,u.length){e.removeChild(s),s.on=!0,s.method="none",s.color=u[0].color,s.color2=u[u.length-1].color;for(var p=[],g=0,m=u.length;m>g;g++)u[g].offset&&p.push(u[g].offset+d+u[g].color);s.colors=p.length?p.join():"0% "+s.color,"radial"==l?(s.type="gradientTitle",s.focus="100%",s.focussize="0 0",s.focusposition=h,s.angle=0):(s.type="gradient",s.angle=(270-c)%360),e.appendChild(s)}return 1},B=function(e,i){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=i,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},N=t.el;B.prototype=N,N.constructor=B,N.transform=function(e){if(null==e)return this._.transform;var n,r=this.paper._viewBoxShift,o=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:f;r&&(n=e=i(e).replace(/\.{3}|\u2026/g,this._.transform||f)),t._extractTransform(this,o+e);var s,a=this.matrix.clone(),l=this.skew,h=this.node,c=~i(this.attrs.fill).indexOf("-"),u=!i(this.attrs.fill).indexOf("url(");if(a.translate(1,1),u||c||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",s=a.split(),c&&s.noRotation||!s.isSimple){h.style.filter=a.toFilter();var p=this.getBBox(),g=this.getBBox(1),m=p.x-g.x,v=p.y-g.y;h.coordorigin=m*-x+d+v*-x,T(this,1,1,m,v,0)}else h.style.filter=f,T(this,s.scalex,s.scaley,s.dx,s.dy,s.rotate);else h.style.filter=f,l.matrix=i(a),l.offset=a.offset();return null!==n&&(this._.transform=n,t._extractTransform(this,n)),this},N.rotate=function(t,e,r){if(this.removed)return this;if(null!=t){if((t=i(t).split(c)).length-1&&(e=n(t[1]),r=n(t[2])),t=n(t[0]),null==r&&(e=r),null==e||null==r){var o=this.getBBox(1);e=o.x+o.width/2,r=o.y+o.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,r]])),this}},N.translate=function(t,e){return this.removed?this:((t=i(t).split(c)).length-1&&(e=n(t[1])),t=n(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},N.scale=function(t,e,r,o){if(this.removed)return this;if((t=i(t).split(c)).length-1&&(e=n(t[1]),r=n(t[2]),o=n(t[3]),isNaN(r)&&(r=null),isNaN(o)&&(o=null)),t=n(t[0]),null==e&&(e=t),null==o&&(r=o),null==r||null==o)var s=this.getBBox(1);return r=null==r?s.x+s.width/2:r,o=null==o?s.y+s.height/2:o,this.transform(this._.transform.concat([["s",t,e,r,o]])),this._.dirtyT=1,this},N.hide=function(){return!this.removed&&(this.node.style.display="none"),this},N.show=function(){return!this.removed&&(this.node.style.display=f),this},N.auxGetBBox=t.el.getBBox,N.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},i=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=i,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=i,e.width=t.width*i,e.height=t.height*i,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},N._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},N.remove=function(){if(!this.removed&&this.node.parentNode){for(var e in this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},N.attr=function(i,n){if(this.removed)return this;if(null==i){var r={};for(var o in this.attrs)this.attrs[e](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==n&&t.is(i,"string")){if(i==h&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var s=i.split(c),a={},l=0,d=s.length;d>l;l++)(i=s[l])in this.attrs?a[i]=this.attrs[i]:t.is(this.paper.customAttributes[i],"function")?a[i]=this.paper.customAttributes[i].def:a[i]=t._availableAttrs[i];return d-1?a:a[s[0]]}if(this.attrs&&null==n&&t.is(i,"array")){for(a={},l=0,d=i.length;d>l;l++)a[i[l]]=this.attr(i[l]);return a}var f;for(var p in null!=n&&((f={})[i]=n),null==n&&t.is(i,"object")&&(f=i),f)u("raphael.attr."+p+"."+this.id,this,f[p]);if(f){for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&f[e](p)&&t.is(this.paper.customAttributes[p],"function")){var g=this.paper.customAttributes[p].apply(this,[].concat(f[p]));for(var m in this.attrs[p]=f[p],g)g[e](m)&&(f[m]=g[m])}f.text&&"text"==this.type&&(this.textpath.string=f.text),I(this,f)}return this},N.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},N.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},N.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},N.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},N.blur=function(e){var i=this.node.runtimeStyle,n=i.filter;return n=n.replace(m,f),0!=+e?(this.attrs.blur=e,i.filter=n+d+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+e||1.5)+")",i.margin=t.format("-{0}px 0 0 -{0}px",o(+e||1.5))):(i.filter=n,i.margin=0,delete this.attrs.blur),this},t._engine.path=function(t,e){var i=k("shape");i.style.cssText=y,i.coordsize=x+d+x,i.coordorigin=e.coordorigin;var n=new B(i,e),r={fill:"none",stroke:"#000"};t&&(r.path=t),n.type="path",n.path=[],n.Path=f,I(n,r),e.canvas.appendChild(i);var o=k("skew");return o.on=!0,i.appendChild(o),n.skew=o,n.transform(f),n},t._engine.rect=function(e,i,n,r,o,s){var a=t._rectPath(i,n,r,o,s),l=e.path(a),h=l.attrs;return l.X=h.x=i,l.Y=h.y=n,l.W=h.width=r,l.H=h.height=o,h.r=s,h.path=a,l.type="rect",l},t._engine.ellipse=function(t,e,i,n,r){var o=t.path();return o.attrs,o.X=e-n,o.Y=i-r,o.W=2*n,o.H=2*r,o.type="ellipse",I(o,{cx:e,cy:i,rx:n,ry:r}),o},t._engine.circle=function(t,e,i,n){var r=t.path();return r.attrs,r.X=e-n,r.Y=i-n,r.W=r.H=2*n,r.type="circle",I(r,{cx:e,cy:i,r:n}),r},t._engine.image=function(e,i,n,r,o,s){var a=t._rectPath(n,r,o,s),l=e.path(a).attr({stroke:"none"}),c=l.attrs,u=l.node,d=u.getElementsByTagName(h)[0];return c.src=i,l.X=c.x=n,l.Y=c.y=r,l.W=c.width=o,l.H=c.height=s,c.path=a,l.type="image",d.parentNode==u&&u.removeChild(d),d.rotate=!0,d.src=i,d.type="tile",l._.fillpos=[n,r],l._.fillsize=[o,s],u.appendChild(d),T(l,1,1,0,0,0),l},t._engine.text=function(e,n,r,s){var a=k("shape"),l=k("path"),h=k("textpath");n=n||0,r=r||0,s=s||"",l.v=t.format("m{0},{1}l{2},{1}",o(n*x),o(r*x),o(n*x)+1),l.textpathok=!0,h.string=i(s),h.on=!0,a.style.cssText=y,a.coordsize=x+d+x,a.coordorigin="0 0";var c=new B(a,e),u={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:s};c.shape=a,c.path=l,c.textpath=h,c.type="text",c.attrs.text=i(s),c.attrs.x=n,c.attrs.y=r,c.attrs.w=1,c.attrs.h=1,I(c,u),a.appendChild(h),a.appendChild(l),e.canvas.appendChild(a);var p=k("skew");return p.on=!0,a.appendChild(p),c.skew=p,c.transform(f),c},t._engine.setSize=function(e,i){var n=this.canvas.style;return this.width=e,this.height=i,e==+e&&(e+="px"),i==+i&&(i+="px"),n.width=e,n.height=i,n.clip="rect(0 "+e+" "+i+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,i,n,r,o){t.eve("raphael.setViewBox",this,this._viewBox,[e,i,n,r,o]);var s,a,l=this.getSize(),h=l.width,c=l.height;return o&&(h>n*(s=c/r)&&(e-=(h-n*s)/2/s),c>r*(a=h/n)&&(i-=(c-r*a)/2/a)),this._viewBox=[e,i,n,r,!!o],this._viewBoxShift={dx:-e,dy:-i,scale:l},this.forEach(function(t){t.transform("...")}),this},t._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),k=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){k=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),i=e.container,n=e.height,r=e.width,o=e.x,s=e.y;if(!i)throw new Error("VML container not found.");var a=new t._Paper,l=a.canvas=t._g.doc.createElement("div"),h=l.style;return o=o||0,s=s||0,r=r||512,n=n||342,a.width=r,a.height=n,r==+r&&(r+="px"),n==+n&&(n+="px"),a.coordsize=216e5+d+216e5,a.coordorigin="0 0",a.span=t._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(a.span),h.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,n),1==i?(t._g.doc.body.appendChild(l),h.left=o+"px",h.top=s+"px",h.position="absolute"):i.firstChild?i.insertBefore(l,i.firstChild):i.appendChild(l),a.renderfix=function(){},a},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=f,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){for(var e in t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var O=t.st;for(var M in N)N[e](M)&&!O[e](M)&&(O[M]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(M))}}),function(t,e){if("function"==typeof define&&define.amd)define("raphael",["raphael.core","raphael.svg","raphael.vml"],function(i){return t.Raphael=e(i)});else if("object"==typeof exports){var i=require("raphael.core");require("raphael.svg"),require("raphael.vml"),module.exports=e(i)}else t.Raphael=e(t.Raphael)}(this,function(t){return t.ninja()}),function(){String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.substr(e||0,t.length)===t});var t=null,e={inheritAttrs:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]instanceof Object&&e[i]instanceof Object&&"function"!=typeof e[i]?this.inheritAttrs(t[i],e[i]):t[i]=e[i]);return t},createMerge:function(t,e){var i={};return t&&this.inheritAttrs(i,this.cloneObj(t)),e&&this.inheritAttrs(i,e),i},extend:function(){return t?(Array.prototype.unshift.apply(arguments,[!0,{}]),t.extend.apply(t,arguments)):e.createMerge.apply(this,arguments)},cloneObj:function(t){if(Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t.hasOwnProperty(i)&&(e[i]=this.cloneObj(t[i]));return e},addEvent:function(e,i,n){t?t(e).on(i+".treant",n):e.addEventListener?e.addEventListener(i,n,!1):e.attachEvent?e.attachEvent("on"+i,n):e["on"+i]=n},findEl:function(e,i,n){if(n=n||document,t){var r=t(e,n);return i?r.get(0):r}if("#"===e.charAt(0))return n.getElementById(e.substring(1));if("."===e.charAt(0)){var o=n.getElementsByClassName(e.substring(1));return o.length?o[0]:null}throw new Error("Unknown container element")},getOuterHeight:function(i){return"function"==typeof i.getBoundingClientRect?i.getBoundingClientRect().height:t?Math.ceil(t(i).outerHeight())+1:Math.ceil(i.clientHeight+e.getStyle(i,"border-top-width",!0)+e.getStyle(i,"border-bottom-width",!0)+e.getStyle(i,"padding-top",!0)+e.getStyle(i,"padding-bottom",!0)+1)},getOuterWidth:function(i){return"function"==typeof i.getBoundingClientRect?i.getBoundingClientRect().width:t?Math.ceil(t(i).outerWidth())+1:Math.ceil(i.clientWidth+e.getStyle(i,"border-left-width",!0)+e.getStyle(i,"border-right-width",!0)+e.getStyle(i,"padding-left",!0)+e.getStyle(i,"padding-right",!0)+1)},getStyle:function(t,e,i){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),n=t.currentStyle[e]),i?parseFloat(n):n},addClass:function(i,n){t?t(i).addClass(n):e.hasClass(i,n)||(i.classList?i.classList.add(n):i.className+=" "+n)},hasClass:function(t,e){return(" "+t.className+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1},toggleClass:function(e,i,n){t?t(e).toggleClass(i,n):n?e.classList.add(i):e.classList.remove(i)},setDimensions:function(e,i,n){t?t(e).width(i).height(n):(e.style.width=i+"px",e.style.height=n+"px")},isjQueryAvailable:function(){return void 0!==t&&t}},i=function(){this.reset()};i.prototype={reset:function(){return this.loading=[],this},processNode:function(t){for(var e=t.nodeDOM.getElementsByTagName("img"),i=e.length;i--;)this.create(t,e[i]);return this},removeAll:function(t){for(var e=this.loading.length;e--;)this.loading[e]===t&&this.loading.splice(e,1);return this},create:function(t,i){var n=this,r=i.src;function o(){n.removeAll(r),t.width=t.nodeDOM.offsetWidth,t.height=t.nodeDOM.offsetHeight}if(0!==i.src.indexOf("data:")){if(this.loading.push(r),i.complete)return o();e.addEvent(i,"load",o),e.addEvent(i,"error",o),i.src+=(i.src.indexOf("?")>0?"&":"?")+(new Date).getTime()}else o()},isNotLoading:function(){return 0===this.loading.length}};var n={store:[],createTree:function(t){var e=this.store.length;return this.store.push(new r(t,e)),this.get(e)},get:function(t){return this.store[t]},destroy:function(t){var e=this.get(t);if(e){e._R.remove();for(var i=e.drawArea;i.firstChild;)i.removeChild(i.firstChild);for(var n=i.className.split(" "),r=[],o=0;o<n.length;o++){var s=n[o];"Treant"!==s&&"Treant-loaded"!==s&&r.push(s)}i.style.overflowY="",i.style.overflowX="",i.className=r.join(" "),this.store[t]=null}return this}},r=function(t,n){this.reset=function(t,n){if(this.initJsonConfig=t,this.initTreeId=n,this.id=n,this.CONFIG=e.extend(r.CONFIG,t.chart),this.drawArea=e.findEl(this.CONFIG.container,!0),!this.drawArea)throw new Error('Failed to find element by selector "'+this.CONFIG.container+'"');return e.addClass(this.drawArea,"Treant"),this.drawArea.innerHTML="",this.imageLoader=new i,this.nodeDB=new o(t.nodeStructure,this),this.connectionStore={},this.loaded=!1,this._R=new Raphael(this.drawArea,100,100),this},this.reload=function(){return this.reset(this.initJsonConfig,this.initTreeId).redraw(),this},this.reset(t,n)};r.prototype={getNodeDb:function(){return this.nodeDB},addNode:function(t,e){this.nodeDB.get(t.id),this.CONFIG.callback.onBeforeAddNode.apply(this,[t,e]);var i=this.nodeDB.createNode(e,t.id,this);return i.createGeometry(this),i.parent().createSwitchGeometry(this),this.positionTree(),this.CONFIG.callback.onAfterAddNode.apply(this,[i,t,e]),i},redraw:function(){return this.positionTree(),this},positionTree:function(t){var i=this;if(this.imageLoader.isNotLoading()){var n=this.root();this.CONFIG.rootOrientation,this.resetLevelData(),this.firstWalk(n,0),this.secondWalk(n,0,0,0),this.positionNodes(),this.CONFIG.animateOnInit&&setTimeout(function(){n.toggleCollapse()},this.CONFIG.animateOnInitDelay),this.loaded||(e.addClass(this.drawArea,"Treant-loaded"),"[object Function]"===Object.prototype.toString.call(t)&&t(i),i.CONFIG.callback.onTreeLoaded.apply(i,[n]),this.loaded=!0)}else setTimeout(function(){i.positionTree(t)},10);return this},firstWalk:function(t,e){t.prelim=null,t.modifier=null,this.setNeighbors(t,e),this.calcLevelDim(t,e);var i=t.leftSibling();if(0===t.childrenCount()||e==this.CONFIG.maxDepth)t.prelim=i?i.prelim+i.size()+this.CONFIG.siblingSeparation:0;else{for(var n=0,r=t.childrenCount();n<r;n++)this.firstWalk(t.childAt(n),e+1);var o=t.childrenCenter()-t.size()/2;i?(t.prelim=i.prelim+i.size()+this.CONFIG.siblingSeparation,t.modifier=t.prelim-o,this.apportion(t,e)):t.prelim=o,t.stackParent?t.modifier+=this.nodeDB.get(t.stackChildren[0]).size()/2+t.connStyle.stackIndent:t.stackParentId&&(t.prelim=0)}return this},apportion:function(t,e){for(var i=t.firstChild(),n=i.leftNeighbor(),r=1,o=this.CONFIG.maxDepth-e;i&&n&&r<=o;){for(var s=0,a=0,l=n,h=i,c=0;c<r;c++)l=l.parent(),h=h.parent(),a+=l.modifier,s+=h.modifier,void 0!==h.stackParent&&(s+=h.size()/2);var u=n.prelim+a+n.size()+this.CONFIG.subTeeSeparation-(i.prelim+s);if(u>0){for(var d=t,f=0;d&&d.id!==l.id;)d=d.leftSibling(),f++;if(d)for(var p=t,g=u/f;p.id!==l.id;)p.prelim+=u,p.modifier+=u,u-=g,p=p.leftSibling()}r++,(i=0===i.childrenCount()?t.leftMost(0,r):i=i.firstChild())&&(n=i.leftNeighbor())}},secondWalk:function(t,e,i,n){if(e<=this.CONFIG.maxDepth){var r,o,s=t.prelim+i,a=n,l=this.CONFIG.nodeAlign,h=this.CONFIG.rootOrientation;if("NORTH"===h||"SOUTH"===h?(r=this.levelMaxDim[e].height,o=t.height,t.pseudo&&(t.height=r)):"WEST"!==h&&"EAST"!==h||(r=this.levelMaxDim[e].width,o=t.width,t.pseudo&&(t.width=r)),t.X=s,t.pseudo?"NORTH"===h||"WEST"===h?t.Y=a:"SOUTH"!==h&&"EAST"!==h||(t.Y=a+(r-o)):t.Y="CENTER"===l?a+(r-o)/2:"TOP"===l?a+(r-o):a,"WEST"===h||"EAST"===h){var c=t.X;t.X=t.Y,t.Y=c}"SOUTH"===h?t.Y=-t.Y-o:"EAST"===h&&(t.X=-t.X-o),0!==t.childrenCount()&&(0===t.id&&this.CONFIG.hideRootNode?this.secondWalk(t.firstChild(),e+1,i+t.modifier,n):this.secondWalk(t.firstChild(),e+1,i+t.modifier,n+r+this.CONFIG.levelSeparation)),t.rightSibling()&&this.secondWalk(t.rightSibling(),e,i,n)}},positionNodes:function(){var t={x:this.nodeDB.getMinMaxCoord("X",null,null),y:this.nodeDB.getMinMaxCoord("Y",null,null)},e=t.x.max-t.x.min,i=t.y.max-t.y.min,n={x:t.x.max-e/2,y:t.y.max-i/2};this.handleOverflow(e,i);var r,o,s,a={x:this.drawArea.clientWidth/2,y:this.drawArea.clientHeight/2},l=a.x-n.x,h=a.y-n.y,c=t.x.min+l<=0?Math.abs(t.x.min):0,u=t.y.min+h<=0?Math.abs(t.y.min):0;for(r=0,o=this.nodeDB.db.length;r<o;r++)if(s=this.nodeDB.get(r),this.CONFIG.callback.onBeforePositionNode.apply(this,[s,r,a,n]),0===s.id&&this.CONFIG.hideRootNode)this.CONFIG.callback.onAfterPositionNode.apply(this,[s,r,a,n]);else{s.X+=c+(e<this.drawArea.clientWidth?l:this.CONFIG.padding),s.Y+=u+(i<this.drawArea.clientHeight?h:this.CONFIG.padding);var d=s.collapsedParent(),f=null;d?(f=d.connectorPoint(!0),s.hide(f)):s.positioned?s.show():(s.nodeDOM.style.left=s.X+"px",s.nodeDOM.style.top=s.Y+"px",s.positioned=!0),0===s.id||0===s.parent().id&&this.CONFIG.hideRootNode?!this.CONFIG.hideRootNode&&s.drawLineThrough&&s.drawLineThroughMe():this.setConnectionToParent(s,f),this.CONFIG.callback.onAfterPositionNode.apply(this,[s,r,a,n])}return this},handleOverflow:function(i,n){var r=i<this.drawArea.clientWidth?this.drawArea.clientWidth:i+2*this.CONFIG.padding,o=n<this.drawArea.clientHeight?this.drawArea.clientHeight:n+2*this.CONFIG.padding;if(this._R.setSize(r,o),"resize"===this.CONFIG.scrollbar)e.setDimensions(this.drawArea,r,o);else if(e.isjQueryAvailable()&&"native"!==this.CONFIG.scrollbar){if("fancy"===this.CONFIG.scrollbar){var s=t(this.drawArea);if(s.hasClass("ps-container"))s.find(".Treant").css({width:r,height:o}),s.perfectScrollbar("update");else{var a=s.wrapInner('<div class="Treant"/>');a.find(".Treant").css({width:r,height:o}),a.perfectScrollbar()}}}else this.drawArea.clientWidth<i&&(this.drawArea.style.overflowX="auto"),this.drawArea.clientHeight<n&&(this.drawArea.style.overflowY="auto");return this},setConnectionToParent:function(t,e){var i,n=t.stackParentId,r=n?this.nodeDB.get(n):t.parent(),o=e?this.getPointPathString(e):this.getPathString(r,t,n);return this.connectionStore[t.id]?(i=this.connectionStore[t.id],this.animatePath(i,o)):(i=this._R.path(o),this.connectionStore[t.id]=i,t.pseudo&&delete r.connStyle.style["arrow-end"],r.pseudo&&delete r.connStyle.style["arrow-start"],i.attr(r.connStyle.style),(t.drawLineThrough||t.pseudo)&&t.drawLineThroughMe(e)),t.connector=i,this},getPointPathString:function(t){return["_M",t.x,",",t.y,"L",t.x,",",t.y,t.x,",",t.y].join(" ")},animatePath:function(t,e){return t.hidden&&"_"!==e.charAt(0)&&(t.show(),t.hidden=!1),t.animate({path:"_"===e.charAt(0)?e.substring(1):e},this.CONFIG.animation.connectorsSpeed,this.CONFIG.animation.connectorsAnimation,function(){"_"===e.charAt(0)&&(t.hide(),t.hidden=!0)}),this},getPathString:function(t,e,i){var n=t.connectorPoint(!0),r=e.connectorPoint(!1),o=this.CONFIG.rootOrientation,s=t.connStyle.type,a={},l={};"NORTH"===o||"SOUTH"===o?(a.y=l.y=(n.y+r.y)/2,a.x=n.x,l.x=r.x):"EAST"!==o&&"WEST"!==o||(a.x=l.x=(n.x+r.x)/2,a.y=n.y,l.y=r.y);var h,c,u=n.x+","+n.y,d=a.x+","+a.y,f=l.x+","+l.y,p=r.x+","+r.y,g=(a.x+l.x)/2+","+(a.y+l.y)/2;if(i){if(c="EAST"===o||"WEST"===o?r.x+","+n.y:n.x+","+r.y,"step"===s||"straight"===s)h=["M",u,"L",c,"L",p];else if("curve"===s||"bCurve"===s){var m,v=t.connStyle.stackIndent;"NORTH"===o?m=r.x-v+","+(r.y-v):"SOUTH"===o?m=r.x-v+","+(r.y+v):"EAST"===o?m=r.x+v+","+n.y:"WEST"===o&&(m=r.x-v+","+n.y),h=["M",u,"L",m,"S",c,p]}}else"step"===s?h=["M",u,"L",d,"L",f,"L",p]:"curve"===s?h=["M",u,"C",d,f,p]:"bCurve"===s?h=["M",u,"Q",d,g,"T",p]:"straight"===s&&(h=["M",u,"L",u,p]);return h.join(" ")},setNeighbors:function(t,e){return t.leftNeighborId=this.lastNodeOnLevel[e],t.leftNeighborId&&(t.leftNeighbor().rightNeighborId=t.id),this.lastNodeOnLevel[e]=t.id,this},calcLevelDim:function(t,e){return this.levelMaxDim[e]={width:Math.max(this.levelMaxDim[e]?this.levelMaxDim[e].width:0,t.width),height:Math.max(this.levelMaxDim[e]?this.levelMaxDim[e].height:0,t.height)},this},resetLevelData:function(){return this.lastNodeOnLevel=[],this.levelMaxDim=[],this},root:function(){return this.nodeDB.get(0)}};var o=function(t,e){this.reset(t,e)};o.prototype={reset:function(t,i){this.db=[];var n=this;return i.CONFIG.animateOnInit&&(t.collapsed=!0),function t(r,o){var s=n.createNode(r,o,i,null);if(r.children){if(r.childrenDropLevel&&r.childrenDropLevel>0)for(;r.childrenDropLevel--;){var a=e.cloneObj(s.connStyle);(s=n.createNode("pseudo",s.id,i,null)).connStyle=a,s.children=[]}var l=r.stackChildren&&!n.hasGrandChildren(r)?s.id:null;null!==l&&(s.stackChildren=[]);for(var h=0,c=r.children.length;h<c;h++)null!==l?(s=n.createNode(r.children[h],s.id,i,l),h+1<c&&(s.children=[])):t(r.children[h],s.id)}}(t,-1),this.createGeometries(i),this},createGeometries:function(t){for(var e=this.db.length;e--;)this.get(e).createGeometry(t);return this},get:function(t){return this.db[t]},walk:function(t){for(var e=this.db.length;e--;)t.apply(this,[this.get(e)]);return this},createNode:function(t,e,i,n){var r=new s(t,this.db.length,e,i,n);if(this.db.push(r),e>=0){var o=this.get(e);if(t.position)if("left"===t.position)o.children.push(r.id);else if("right"===t.position)o.children.splice(0,0,r.id);else if("center"===t.position)o.children.splice(Math.floor(o.children.length/2),0,r.id);else{var a=parseInt(t.position);1===o.children.length&&a>0?o.children.splice(0,0,r.id):o.children.splice(Math.max(a,o.children.length-1),0,r.id)}else o.children.push(r.id)}return n&&(this.get(n).stackParent=!0,this.get(n).stackChildren.push(r.id)),r},getMinMaxCoord:function(t,e,i){e=e||this.get(0),i=i||{min:e[t],max:e[t]+("X"===t?e.width:e.height)};for(var n=e.childrenCount();n--;){var r=e.childAt(n),o=r[t]+("X"===t?r.width:r.height),s=r[t];o>i.max&&(i.max=o),s<i.min&&(i.min=s),this.getMinMaxCoord(t,r,i)}return i},hasGrandChildren:function(t){for(var e=t.children.length;e--;)if(t.children[e].children)return!0;return!1}};var s=function(t,e,i,n,r){this.reset(t,e,i,n,r)};s.prototype={reset:function(t,i,n,r,o){return this.id=i,this.parentId=n,this.treeId=r.id,this.prelim=0,this.modifier=0,this.leftNeighborId=null,this.stackParentId=o,this.pseudo="pseudo"===t||t.pseudo,this.meta=t.meta||{},this.image=t.image||null,this.link=e.createMerge(r.CONFIG.node.link,t.link),this.connStyle=e.createMerge(r.CONFIG.connectors,t.connectors),this.connector=null,this.drawLineThrough=!1!==t.drawLineThrough&&(t.drawLineThrough||r.CONFIG.node.drawLineThrough),this.collapsable=!1!==t.collapsable&&(t.collapsable||r.CONFIG.node.collapsable),this.collapsed=t.collapsed,this.text=t.text,this.nodeInnerHTML=t.innerHTML,this.nodeHTMLclass=(r.CONFIG.node.HTMLclass?r.CONFIG.node.HTMLclass:"")+(t.HTMLclass?" "+t.HTMLclass:""),this.nodeHTMLid=t.HTMLid,this.children=[],this},getTree:function(){return n.get(this.treeId)},getTreeConfig:function(){return this.getTree().CONFIG},getTreeNodeDb:function(){return this.getTree().getNodeDb()},lookupNode:function(t){return this.getTreeNodeDb().get(t)},Tree:function(){return n.get(this.treeId)},dbGet:function(t){return this.getTreeNodeDb().get(t)},size:function(){var t=this.getTreeConfig().rootOrientation;return this.pseudo?-this.getTreeConfig().subTeeSeparation:"NORTH"===t||"SOUTH"===t?this.width:"WEST"===t||"EAST"===t?this.height:void 0},childrenCount:function(){return this.collapsed||!this.children?0:this.children.length},childAt:function(t){return this.dbGet(this.children[t])},firstChild:function(){return this.childAt(0)},lastChild:function(){return this.childAt(this.children.length-1)},parent:function(){return this.lookupNode(this.parentId)},leftNeighbor:function(){if(this.leftNeighborId)return this.lookupNode(this.leftNeighborId)},rightNeighbor:function(){if(this.rightNeighborId)return this.lookupNode(this.rightNeighborId)},leftSibling:function(){var t=this.leftNeighbor();if(t&&t.parentId===this.parentId)return t},rightSibling:function(){var t=this.rightNeighbor();if(t&&t.parentId===this.parentId)return t},childrenCenter:function(){var t=this.firstChild(),e=this.lastChild();return t.prelim+(e.prelim-t.prelim+e.size())/2},collapsedParent:function(){var t=this.parent();return!!t&&(t.collapsed?t:t.collapsedParent())},leftMost:function(t,e){if(t>=e)return this;if(0!==this.childrenCount())for(var i=0,n=this.childrenCount();i<n;i++){var r=this.childAt(i).leftMost(t+1,e);if(r)return r}},connectorPoint:function(t){var e=this.Tree().CONFIG.rootOrientation,i={};return this.stackParentId&&("NORTH"===e||"SOUTH"===e?e="WEST":"EAST"!==e&&"WEST"!==e||(e="NORTH")),"NORTH"===e?(i.x=this.pseudo?this.X-this.Tree().CONFIG.subTeeSeparation/2:this.X+this.width/2,i.y=t?this.Y+this.height:this.Y):"SOUTH"===e?(i.x=this.pseudo?this.X-this.Tree().CONFIG.subTeeSeparation/2:this.X+this.width/2,i.y=t?this.Y:this.Y+this.height):"EAST"===e?(i.x=t?this.X:this.X+this.width,i.y=this.pseudo?this.Y-this.Tree().CONFIG.subTeeSeparation/2:this.Y+this.height/2):"WEST"===e&&(i.x=t?this.X+this.width:this.X,i.y=this.pseudo?this.Y-this.Tree().CONFIG.subTeeSeparation/2:this.Y+this.height/2),i},pathStringThrough:function(){var t=this.connectorPoint(!0),e=this.connectorPoint(!1);return["M",t.x+","+t.y,"L",e.x+","+e.y].join(" ")},drawLineThroughMe:function(t){var i=t?this.Tree().getPointPathString(t):this.pathStringThrough();this.lineThroughMe=this.lineThroughMe||this.Tree()._R.path(i);var n=e.cloneObj(this.connStyle.style);delete n["arrow-start"],delete n["arrow-end"],this.lineThroughMe.attr(n),t&&(this.lineThroughMe.hide(),this.lineThroughMe.hidden=!0)},addSwitchEvent:function(t){var i=this;e.addEvent(t,"click",function(e){if(e.preventDefault(),!1===i.getTreeConfig().callback.onBeforeClickCollapseSwitch.apply(i,[t,e]))return!1;i.toggleCollapse(),i.getTreeConfig().callback.onAfterClickCollapseSwitch.apply(i,[t,e])})},collapse:function(){return this.collapsed||this.toggleCollapse(),this},expand:function(){return this.collapsed&&this.toggleCollapse(),this},toggleCollapse:function(){var t=this.getTree();if(!t.inAnimation){t.inAnimation=!0,this.collapsed=!this.collapsed,e.toggleClass(this.nodeDOM,"collapsed",this.collapsed),t.positionTree();var i=this;setTimeout(function(){t.inAnimation=!1,t.CONFIG.callback.onToggleCollapseFinished.apply(t,[i,i.collapsed])},t.CONFIG.animation.nodeSpeed>t.CONFIG.animation.connectorsSpeed?t.CONFIG.animation.nodeSpeed:t.CONFIG.animation.connectorsSpeed)}return this},hide:function(e){e=e||!1;var i=this.hidden;this.hidden=!0,this.nodeDOM.style.overflow="hidden";var n=this.getTree(),r=this.getTreeConfig(),o={opacity:0};if(e&&(o.left=e.x,o.top=e.y),!this.positioned||i?(this.nodeDOM.style.visibility="hidden",t?t(this.nodeDOM).css(o):(this.nodeDOM.style.left=o.left+"px",this.nodeDOM.style.top=o.top+"px"),this.positioned=!0):t?t(this.nodeDOM).animate(o,r.animation.nodeSpeed,r.animation.nodeAnimation,function(){this.style.visibility="hidden"}):(this.nodeDOM.style.transition="all "+r.animation.nodeSpeed+"ms ease",this.nodeDOM.style.transitionProperty="opacity, left, top",this.nodeDOM.style.opacity=o.opacity,this.nodeDOM.style.left=o.left+"px",this.nodeDOM.style.top=o.top+"px",this.nodeDOM.style.visibility="hidden"),this.lineThroughMe){var s=n.getPointPathString(e);i?this.lineThroughMe.attr({path:s}):n.animatePath(this.lineThroughMe,n.getPointPathString(e))}return this},hideConnector:function(){var t=this.Tree(),e=t.connectionStore[this.id];return e&&e.animate({opacity:0},t.CONFIG.animation.connectorsSpeed,t.CONFIG.animation.connectorsAnimation),this},show:function(){this.hidden,this.hidden=!1,this.nodeDOM.style.visibility="visible",this.Tree();var e={left:this.X,top:this.Y,opacity:1},i=this.getTreeConfig();return t?t(this.nodeDOM).animate(e,i.animation.nodeSpeed,i.animation.nodeAnimation,function(){this.style.overflow=""}):(this.nodeDOM.style.transition="all "+i.animation.nodeSpeed+"ms ease",this.nodeDOM.style.transitionProperty="opacity, left, top",this.nodeDOM.style.left=e.left+"px",this.nodeDOM.style.top=e.top+"px",this.nodeDOM.style.opacity=e.opacity,this.nodeDOM.style.overflow=""),this.lineThroughMe&&this.getTree().animatePath(this.lineThroughMe,this.pathStringThrough()),this},showConnector:function(){var t=this.Tree(),e=t.connectionStore[this.id];return e&&e.animate({opacity:1},t.CONFIG.animation.connectorsSpeed,t.CONFIG.animation.connectorsAnimation),this}},s.prototype.buildNodeFromText=function(t){if(this.image&&(image=document.createElement("img"),image.src=this.image,t.appendChild(image)),this.text)for(var e in this.text)if(e.startsWith("data-"))t.setAttribute(e,this.text[e]);else{var i=document.createElement(this.text[e].href?"a":"p");this.text[e].href&&(i.href=this.text[e].href,this.text[e].target&&(i.target=this.text[e].target)),i.className="node-"+e,i.appendChild(document.createTextNode(this.text[e].val?this.text[e].val:this.text[e]instanceof Object?"'val' param missing!":this.text[e])),t.appendChild(i)}return t},s.prototype.buildNodeFromHtml=function(t){if("#"===this.nodeInnerHTML.charAt(0)){var e=document.getElementById(this.nodeInnerHTML.substring(1));e?((t=e.cloneNode(!0)).id+="-clone",t.className+=" node"):t.innerHTML="<b> Wrong ID selector </b>"}else t.innerHTML=this.nodeInnerHTML;return t},s.prototype.createGeometry=function(e){if(0===this.id&&e.CONFIG.hideRootNode)return this.width=0,void(this.height=0);var i=e.drawArea,n=document.createElement(this.link.href?"a":"div");n.className=this.pseudo?"pseudo":s.CONFIG.nodeHTMLclass,this.nodeHTMLclass&&!this.pseudo&&(n.className+=" "+this.nodeHTMLclass),this.nodeHTMLid&&(n.id=this.nodeHTMLid),this.link.href&&(n.href=this.link.href,n.target=this.link.target),t?t(n).data("treenode",this):n.data={treenode:this},this.pseudo||(n=this.nodeInnerHTML?this.buildNodeFromHtml(n):this.buildNodeFromText(n),(this.collapsed||this.collapsable&&this.childrenCount()&&!this.stackParentId)&&this.createSwitchGeometry(e,n)),e.CONFIG.callback.onCreateNode.apply(e,[this,n]),i.appendChild(n),this.width=n.offsetWidth,this.height=n.offsetHeight,this.nodeDOM=n,e.imageLoader.processNode(this)},s.prototype.createSwitchGeometry=function(t,i){i=i||this.nodeDOM;var n=e.findEl(".collapse-switch",!0,i);return n||((n=document.createElement("a")).className="collapse-switch",i.appendChild(n),this.addSwitchEvent(n),this.collapsed&&(i.className+=" collapsed"),t.CONFIG.callback.onCreateNodeCollapseSwitch.apply(t,[this,i,n])),n},r.CONFIG={maxDepth:100,rootOrientation:"NORTH",nodeAlign:"CENTER",levelSeparation:30,siblingSeparation:30,subTeeSeparation:30,hideRootNode:!1,animateOnInit:!1,animateOnInitDelay:500,padding:15,scrollbar:"native",connectors:{type:"curve",style:{stroke:"black"},stackIndent:15},node:{link:{target:"_self"}},animation:{nodeSpeed:450,nodeAnimation:"linear",connectorsSpeed:450,connectorsAnimation:"linear"},callback:{onCreateNode:function(t,e){},onCreateNodeCollapseSwitch:function(t,e,i){},onAfterAddNode:function(t,e,i){},onBeforeAddNode:function(t,e){},onAfterPositionNode:function(t,e,i,n){},onBeforePositionNode:function(t,e,i,n){},onToggleCollapseFinished:function(t,e){},onAfterClickCollapseSwitch:function(t,e){},onBeforeClickCollapseSwitch:function(t,e){},onTreeLoaded:function(t){}}},s.CONFIG={nodeHTMLclass:"node"};var a,l={make:function(t){var e,i=t.length;for(this.jsonStructure={chart:null,nodeStructure:null};i--;)(e=t[i]).hasOwnProperty("container")?this.jsonStructure.chart=e:e.hasOwnProperty("parent")||e.hasOwnProperty("container")||(this.jsonStructure.nodeStructure=e,e._json_id=0);return this.findChildren(t),this.jsonStructure},findChildren:function(t){for(var e=[0];e.length;){for(var i=e.pop(),n=this.findNode(this.jsonStructure.nodeStructure,i),r=0,o=t.length,s=[];r<o;r++){var a=t[r];a.parent&&a.parent._json_id===i&&(a._json_id=this.getID(),delete a.parent,s.push(a),e.push(a._json_id))}s.length&&(n.children=s)}},findNode:function(t,e){var i,n;if(t._json_id===e)return t;if(t.children)for(i=t.children.length;i--;)if(n=this.findNode(t.children[i],e))return n},getID:(a=1,function(){return a++})},h=function(e,i,r){e instanceof Array&&(e=l.make(e)),r&&(t=r),this.tree=n.createTree(e),this.tree.positionTree(i)};h.prototype.destroy=function(){n.destroy(this.tree.id)},window.Treant=h}(),function(t){t.belowthefold=function(e,i){return t(window).height()+t(window).scrollTop()<=t(e).offset().top-i.threshold},t.abovethetop=function(e,i){return t(window).scrollTop()>=t(e).offset().top+t(e).height()-i.threshold},t.rightofscreen=function(e,i){return t(window).width()+t(window).scrollLeft()<=t(e).offset().left-i.threshold},t.leftofscreen=function(e,i){return t(window).scrollLeft()>=t(e).offset().left+t(e).width()-i.threshold},t.inviewport=function(e,i){return!(t.rightofscreen(e,i)||t.leftofscreen(e,i)||t.belowthefold(e,i)||t.abovethetop(e,i))},t.extend(t.expr[":"],{"below-the-fold":function(e,i,n){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e,i,n){return t.abovethetop(e,{threshold:0})},"left-of-screen":function(e,i,n){return t.leftofscreen(e,{threshold:0})},"right-of-screen":function(e,i,n){return t.rightofscreen(e,{threshold:0})},"in-viewport":function(e,i,n){return t.inviewport(e,{threshold:0})}})}(jQuery),function(t){var e=t(window);t.fn.visible=function(t,i,n){if(!(this.length<1)){var r=this.length>1?this.eq(0):this,o=r.get(0),s=e.width(),a=e.height(),l=(n=n||"both",!0!==i||o.offsetWidth*o.offsetHeight);if("function"==typeof o.getBoundingClientRect){var h=o.getBoundingClientRect(),c=h.top>=0&&h.top<a,u=h.bottom>0&&h.bottom<=a,d=h.left>=0&&h.left<s,f=h.right>0&&h.right<=s,p=t?c||u:c&&u,g=t?d||f:d&&f;if("both"===n)return l&&p&&g;if("vertical"===n)return l&&p;if("horizontal"===n)return l&&g}else{var m=e.scrollTop(),v=m+a,y=e.scrollLeft(),x=y+s,b=r.offset(),w=b.top,C=w+r.height(),_=b.left,T=_+r.width(),k=!0===t?C:w,S=!0===t?w:C,I=!0===t?T:_,A=!0===t?_:T;if("both"===n)return!!l&&S<=v&&k>=m&&A<=x&&I>=y;if("vertical"===n)return!!l&&S<=v&&k>=m;if("horizontal"===n)return!!l&&A<=x&&I>=y}}}}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(t){!function(){"use strict";function e(e,n){if(this.el=e,this.$el=t(e),this.s=t.extend({},i,n),this.s.dynamic&&"undefined"!==this.s.dynamicEl&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length)throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.modules={},this.lGalleryOn=!1,this.lgBusy=!1,this.hideBartimeout=!1,this.isTouch="ontouchstart"in document.documentElement,this.s.slideEndAnimatoin&&(this.s.hideControlOnEnd=!1),this.s.dynamic?this.$items=this.s.dynamicEl:"this"===this.s.selector?this.$items=this.$el:""!==this.s.selector?this.s.selectWithin?this.$items=t(this.s.selectWithin).find(this.s.selector):this.$items=this.$el.find(t(this.s.selector)):this.$items=this.$el.children(),this.$slide="",this.$outer="",this.init(),this}var i={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6e3,useLeft:!1,closable:!0,loop:!0,escKey:!0,keyPress:!0,controls:!0,slideEndAnimatoin:!0,hideControlOnEnd:!1,mousewheel:!0,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:1,showAfterLoad:!0,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:!1,iframeMaxWidth:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],galleryId:1};e.prototype.init=function(){var e=this;e.s.preload>e.$items.length&&(e.s.preload=e.$items.length);var i=window.location.hash;i.indexOf("lg="+this.s.galleryId)>0&&(e.index=parseInt(i.split("&slide=")[1],10),t("body").addClass("lg-from-hash"),t("body").hasClass("lg-on")||(setTimeout(function(){e.build(e.index)}),t("body").addClass("lg-on"))),e.s.dynamic?(e.$el.trigger("onBeforeOpen.lg"),e.index=e.s.index||0,t("body").hasClass("lg-on")||setTimeout(function(){e.build(e.index),t("body").addClass("lg-on")})):e.$items.on("click.lgcustom",function(i){try{i.preventDefault(),i.preventDefault()}catch(t){i.returnValue=!1}e.$el.trigger("onBeforeOpen.lg"),e.index=e.s.index||e.$items.index(this),t("body").hasClass("lg-on")||(e.build(e.index),t("body").addClass("lg-on"))})},e.prototype.build=function(e){var i=this;i.structure(),t.each(t.fn.lightGallery.modules,function(e){i.modules[e]=new t.fn.lightGallery.modules[e](i.el)}),i.slide(e,!1,!1,!1),i.s.keyPress&&i.keyPress(),i.$items.length>1?(i.arrow(),setTimeout(function(){i.enableDrag(),i.enableSwipe()},50),i.s.mousewheel&&i.mousewheel()):i.$slide.on("click.lg",function(){i.$el.trigger("onSlideClick.lg")}),i.counter(),i.closeGallery(),i.$el.trigger("onAfterOpen.lg"),i.$outer.on("mousemove.lg click.lg touchstart.lg",function(){i.$outer.removeClass("lg-hide-items"),clearTimeout(i.hideBartimeout),i.hideBartimeout=setTimeout(function(){i.$outer.addClass("lg-hide-items")},i.s.hideBarsDelay)}),i.$outer.trigger("mousemove.lg")},e.prototype.structure=function(){var e,i="",n="",r=0,o="",s=this;for(t("body").append('<div class="lg-backdrop"></div>'),t(".lg-backdrop").css("transition-duration",this.s.backdropDuration+"ms"),r=0;r<this.$items.length;r++)i+='<div class="lg-item"></div>';if(this.s.controls&&this.$items.length>1&&(n='<div class="lg-actions"><button class="lg-prev lg-icon">'+this.s.prevHtml+'</button><button class="lg-next lg-icon">'+this.s.nextHtml+"</button></div>"),".lg-sub-html"===this.s.appendSubHtmlTo&&(o='<div class="lg-sub-html"></div>'),e='<div class="lg-outer '+this.s.addClass+" "+this.s.startClass+'"><div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'"><div class="lg-inner">'+i+'</div><div class="lg-toolbar lg-group"><span class="lg-close lg-icon"></span></div>'+n+o+"</div></div>",t("body").append(e),this.$outer=t(".lg-outer"),this.$slide=this.$outer.find(".lg-item"),this.s.useLeft?(this.$outer.addClass("lg-use-left"),this.s.mode="lg-slide"):this.$outer.addClass("lg-use-css3"),s.setTop(),t(window).on("resize.lg orientationchange.lg",function(){setTimeout(function(){s.setTop()},100)}),this.$slide.eq(this.index).addClass("lg-current"),this.doCss()?this.$outer.addClass("lg-css3"):(this.$outer.addClass("lg-css"),this.s.speed=0),this.$outer.addClass(this.s.mode),this.s.enableDrag&&this.$items.length>1&&this.$outer.addClass("lg-grab"),this.s.showAfterLoad&&this.$outer.addClass("lg-show-after-load"),this.doCss()){var a=this.$outer.find(".lg-inner");a.css("transition-timing-function",this.s.cssEasing),a.css("transition-duration",this.s.speed+"ms")}setTimeout(function(){t(".lg-backdrop").addClass("in")}),setTimeout(function(){s.$outer.addClass("lg-visible")},this.s.backdropDuration),this.s.download&&this.$outer.find(".lg-toolbar").append('<a id="lg-download" target="_blank" download class="lg-download lg-icon"></a>'),this.prevScrollTop=t(window).scrollTop()},e.prototype.setTop=function(){if("100%"!==this.s.height){var e=t(window).height(),i=(e-parseInt(this.s.height,10))/2,n=this.$outer.find(".lg");e>=parseInt(this.s.height,10)?n.css("top",i+"px"):n.css("top","0px")}},e.prototype.doCss=function(){return!!function(){var t=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],e=document.documentElement,i=0;for(i=0;i<t.length;i++)if(t[i]in e.style)return!0}()},e.prototype.isVideo=function(t,e){var i;if(i=this.s.dynamic?this.s.dynamicEl[e].html:this.$items.eq(e).attr("data-html"),!t)return i?{html5:!0}:(console.error("lightGallery :- data-src is not pvovided on slide item "+(e+1)+". Please make sure the selector property is properly configured. More info - http://sachinchoolur.github.io/lightGallery/demos/html-markup.html"),!1);var n=t.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i),r=t.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),o=t.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),s=t.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);return n?{youtube:n}:r?{vimeo:r}:o?{dailymotion:o}:s?{vk:s}:void 0},e.prototype.counter=function(){this.s.counter&&t(this.s.appendCounterTo).append('<div id="lg-counter"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.$items.length+"</span></div>")},e.prototype.addHtml=function(e){var i,n,r=null;if(this.s.dynamic?this.s.dynamicEl[e].subHtmlUrl?i=this.s.dynamicEl[e].subHtmlUrl:r=this.s.dynamicEl[e].subHtml:(n=this.$items.eq(e)).attr("data-sub-html-url")?i=n.attr("data-sub-html-url"):(r=n.attr("data-sub-html"),this.s.getCaptionFromTitleOrAlt&&!r&&(r=n.attr("title")||n.find("img").first().attr("alt"))),!i)if(null!=r){var o=r.substring(0,1);"."!==o&&"#"!==o||(r=this.s.subHtmlSelectorRelative&&!this.s.dynamic?n.find(r).html():t(r).html())}else r="";".lg-sub-html"===this.s.appendSubHtmlTo?i?this.$outer.find(this.s.appendSubHtmlTo).load(i):this.$outer.find(this.s.appendSubHtmlTo).html(r):i?this.$slide.eq(e).load(i):this.$slide.eq(e).append(r),null!=r&&(""===r?this.$outer.find(this.s.appendSubHtmlTo).addClass("lg-empty-html"):this.$outer.find(this.s.appendSubHtmlTo).removeClass("lg-empty-html")),this.$el.trigger("onAfterAppendSubHtml.lg",[e])},e.prototype.preload=function(t){var e=1,i=1;for(e=1;e<=this.s.preload&&!(e>=this.$items.length-t);e++)this.loadContent(t+e,!1,0);for(i=1;i<=this.s.preload&&!(t-i<0);i++)this.loadContent(t-i,!1,0)},e.prototype.loadContent=function(e,i,n){var r,o,s,a,l,h,c=this,u=!1,d=function(e){for(var i=[],n=[],r=0;r<e.length;r++){var s=e[r].split(" ");""===s[0]&&s.splice(0,1),n.push(s[0]),i.push(s[1])}for(var a=t(window).width(),l=0;l<i.length;l++)if(parseInt(i[l],10)>a){o=n[l];break}};c.s.dynamic?(c.s.dynamicEl[e].poster&&(u=!0,s=c.s.dynamicEl[e].poster),h=c.s.dynamicEl[e].html,o=c.s.dynamicEl[e].src,c.s.dynamicEl[e].responsive&&d(c.s.dynamicEl[e].responsive.split(",")),a=c.s.dynamicEl[e].srcset,l=c.s.dynamicEl[e].sizes):(c.$items.eq(e).attr("data-poster")&&(u=!0,s=c.$items.eq(e).attr("data-poster")),h=c.$items.eq(e).attr("data-html"),o=c.$items.eq(e).attr("href")||c.$items.eq(e).attr("data-src"),c.$items.eq(e).attr("data-responsive")&&d(c.$items.eq(e).attr("data-responsive").split(",")),a=c.$items.eq(e).attr("data-srcset"),l=c.$items.eq(e).attr("data-sizes"));var f=!1;c.s.dynamic?c.s.dynamicEl[e].iframe&&(f=!0):"true"===c.$items.eq(e).attr("data-iframe")&&(f=!0);var p=c.isVideo(o,e);if(!c.$slide.eq(e).hasClass("lg-loaded")){if(f)c.$slide.eq(e).prepend('<div class="lg-video-cont lg-has-iframe" style="max-width:'+c.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+o+'"  allowfullscreen="true"></iframe></div></div>');else if(u){var g;g=p&&p.youtube?"lg-has-youtube":p&&p.vimeo?"lg-has-vimeo":"lg-has-html5",c.$slide.eq(e).prepend('<div class="lg-video-cont '+g+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+s+'" /></div></div>')}else p?(c.$slide.eq(e).prepend('<div class="lg-video-cont "><div class="lg-video"></div></div>'),c.$el.trigger("hasVideo.lg",[e,o,h])):c.$slide.eq(e).prepend('<div class="lg-img-wrap"><img class="lg-object lg-image" src="'+o+'" /></div>');if(c.$el.trigger("onAferAppendSlide.lg",[e]),r=c.$slide.eq(e).find(".lg-object"),l&&r.attr("sizes",l),a){r.attr("srcset",a);try{picturefill({elements:[r[0]]})}catch(t){console.warn("lightGallery :- If you want srcset to be supported for older browser please include picturefil version 2 javascript library in your document.")}}".lg-sub-html"!==this.s.appendSubHtmlTo&&c.addHtml(e),c.$slide.eq(e).addClass("lg-loaded")}c.$slide.eq(e).find(".lg-object").on("load.lg error.lg",function(){var i=0;n&&!t("body").hasClass("lg-from-hash")&&(i=n),setTimeout(function(){c.$slide.eq(e).addClass("lg-complete"),c.$el.trigger("onSlideItemLoad.lg",[e,n||0])},i)}),p&&p.html5&&!u&&c.$slide.eq(e).addClass("lg-complete"),!0===i&&(c.$slide.eq(e).hasClass("lg-complete")?c.preload(e):c.$slide.eq(e).find(".lg-object").on("load.lg error.lg",function(){c.preload(e)}))},e.prototype.slide=function(e,i,n,r){var o=this.$outer.find(".lg-current").index(),s=this;if(!s.lGalleryOn||o!==e){var a=this.$slide.length,l=s.lGalleryOn?this.s.speed:0;if(!s.lgBusy){var h,c,u;if(this.s.download)(h=s.s.dynamic?!1!==s.s.dynamicEl[e].downloadUrl&&(s.s.dynamicEl[e].downloadUrl||s.s.dynamicEl[e].src):"false"!==s.$items.eq(e).attr("data-download-url")&&(s.$items.eq(e).attr("data-download-url")||s.$items.eq(e).attr("href")||s.$items.eq(e).attr("data-src")))?(t("#lg-download").attr("href",h),s.$outer.removeClass("lg-hide-download")):s.$outer.addClass("lg-hide-download");if(this.$el.trigger("onBeforeSlide.lg",[o,e,i,n]),s.lgBusy=!0,clearTimeout(s.hideBartimeout),".lg-sub-html"===this.s.appendSubHtmlTo&&setTimeout(function(){s.addHtml(e)},l),this.arrowDisable(e),r||(e<o?r="prev":e>o&&(r="next")),i)this.$slide.removeClass("lg-prev-slide lg-current lg-next-slide"),a>2?(c=e-1,u=e+1,0===e&&o===a-1?(u=0,c=a-1):e===a-1&&0===o&&(u=0,c=a-1)):(c=0,u=1),"prev"===r?s.$slide.eq(u).addClass("lg-next-slide"):s.$slide.eq(c).addClass("lg-prev-slide"),s.$slide.eq(e).addClass("lg-current");else s.$outer.addClass("lg-no-trans"),this.$slide.removeClass("lg-prev-slide lg-next-slide"),"prev"===r?(this.$slide.eq(e).addClass("lg-prev-slide"),this.$slide.eq(o).addClass("lg-next-slide")):(this.$slide.eq(e).addClass("lg-next-slide"),this.$slide.eq(o).addClass("lg-prev-slide")),setTimeout(function(){s.$slide.removeClass("lg-current"),s.$slide.eq(e).addClass("lg-current"),s.$outer.removeClass("lg-no-trans")},50);s.lGalleryOn?(setTimeout(function(){s.loadContent(e,!0,0)},this.s.speed+50),setTimeout(function(){s.lgBusy=!1,s.$el.trigger("onAfterSlide.lg",[o,e,i,n])},this.s.speed)):(s.loadContent(e,!0,s.s.backdropDuration),s.lgBusy=!1,s.$el.trigger("onAfterSlide.lg",[o,e,i,n])),s.lGalleryOn=!0,this.s.counter&&t("#lg-counter-current").text(e+1)}s.index=e}},e.prototype.goToNextSlide=function(t){var e=this,i=e.s.loop;t&&e.$slide.length<3&&(i=!1),e.lgBusy||(e.index+1<e.$slide.length?(e.index++,e.$el.trigger("onBeforeNextSlide.lg",[e.index]),e.slide(e.index,t,!1,"next")):i?(e.index=0,e.$el.trigger("onBeforeNextSlide.lg",[e.index]),e.slide(e.index,t,!1,"next")):e.s.slideEndAnimatoin&&!t&&(e.$outer.addClass("lg-right-end"),setTimeout(function(){e.$outer.removeClass("lg-right-end")},400)))},e.prototype.goToPrevSlide=function(t){var e=this,i=e.s.loop;t&&e.$slide.length<3&&(i=!1),e.lgBusy||(e.index>0?(e.index--,e.$el.trigger("onBeforePrevSlide.lg",[e.index,t]),e.slide(e.index,t,!1,"prev")):i?(e.index=e.$items.length-1,e.$el.trigger("onBeforePrevSlide.lg",[e.index,t]),e.slide(e.index,t,!1,"prev")):e.s.slideEndAnimatoin&&!t&&(e.$outer.addClass("lg-left-end"),setTimeout(function(){e.$outer.removeClass("lg-left-end")},400)))},e.prototype.keyPress=function(){var e=this;this.$items.length>1&&t(window).on("keyup.lg",function(t){e.$items.length>1&&(37===t.keyCode&&(t.preventDefault(),e.goToPrevSlide()),39===t.keyCode&&(t.preventDefault(),e.goToNextSlide()))}),t(window).on("keydown.lg",function(t){!0===e.s.escKey&&27===t.keyCode&&(t.preventDefault(),e.$outer.hasClass("lg-thumb-open")?e.$outer.removeClass("lg-thumb-open"):e.destroy())})},e.prototype.arrow=function(){var t=this;this.$outer.find(".lg-prev").on("click.lg",function(){t.goToPrevSlide()}),this.$outer.find(".lg-next").on("click.lg",function(){t.goToNextSlide()})},e.prototype.arrowDisable=function(t){!this.s.loop&&this.s.hideControlOnEnd&&(t+1<this.$slide.length?this.$outer.find(".lg-next").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-next").attr("disabled","disabled").addClass("disabled"),t>0?this.$outer.find(".lg-prev").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-prev").attr("disabled","disabled").addClass("disabled"))},e.prototype.setTranslate=function(t,e,i){this.s.useLeft?t.css("left",e):t.css({transform:"translate3d("+e+"px, "+i+"px, 0px)"})},e.prototype.touchMove=function(e,i){var n=i-e;Math.abs(n)>15&&(this.$outer.addClass("lg-dragging"),this.setTranslate(this.$slide.eq(this.index),n,0),this.setTranslate(t(".lg-prev-slide"),-this.$slide.eq(this.index).width()+n,0),this.setTranslate(t(".lg-next-slide"),this.$slide.eq(this.index).width()+n,0))},e.prototype.touchEnd=function(t){var e=this;"lg-slide"!==e.s.mode&&e.$outer.addClass("lg-slide"),this.$slide.not(".lg-current, .lg-prev-slide, .lg-next-slide").css("opacity","0"),setTimeout(function(){e.$outer.removeClass("lg-dragging"),t<0&&Math.abs(t)>e.s.swipeThreshold?e.goToNextSlide(!0):t>0&&Math.abs(t)>e.s.swipeThreshold?e.goToPrevSlide(!0):Math.abs(t)<5&&e.$el.trigger("onSlideClick.lg"),e.$slide.removeAttr("style")}),setTimeout(function(){e.$outer.hasClass("lg-dragging")||"lg-slide"===e.s.mode||e.$outer.removeClass("lg-slide")},e.s.speed+100)},e.prototype.enableSwipe=function(){var t=this,e=0,i=0,n=!1;t.s.enableSwipe&&t.doCss()&&(t.$slide.on("touchstart.lg",function(i){t.$outer.hasClass("lg-zoomed")||t.lgBusy||(i.preventDefault(),t.manageSwipeClass(),e=i.originalEvent.targetTouches[0].pageX)}),t.$slide.on("touchmove.lg",function(r){t.$outer.hasClass("lg-zoomed")||(r.preventDefault(),i=r.originalEvent.targetTouches[0].pageX,t.touchMove(e,i),n=!0)}),t.$slide.on("touchend.lg",function(){t.$outer.hasClass("lg-zoomed")||(n?(n=!1,t.touchEnd(i-e)):t.$el.trigger("onSlideClick.lg"))}))},e.prototype.enableDrag=function(){var e=this,i=0,n=0,r=!1,o=!1;e.s.enableDrag&&e.doCss()&&(e.$slide.on("mousedown.lg",function(n){e.$outer.hasClass("lg-zoomed")||e.lgBusy||t(n.target).text().trim()||(n.preventDefault(),e.manageSwipeClass(),i=n.pageX,r=!0,e.$outer.scrollLeft+=1,e.$outer.scrollLeft-=1,e.$outer.removeClass("lg-grab").addClass("lg-grabbing"),e.$el.trigger("onDragstart.lg"))}),t(window).on("mousemove.lg",function(t){r&&(o=!0,n=t.pageX,e.touchMove(i,n),e.$el.trigger("onDragmove.lg"))}),t(window).on("mouseup.lg",function(s){o?(o=!1,e.touchEnd(n-i),e.$el.trigger("onDragend.lg")):(t(s.target).hasClass("lg-object")||t(s.target).hasClass("lg-video-play"))&&e.$el.trigger("onSlideClick.lg"),r&&(r=!1,e.$outer.removeClass("lg-grabbing").addClass("lg-grab"))}))},e.prototype.manageSwipeClass=function(){var t=this.index+1,e=this.index-1;this.s.loop&&this.$slide.length>2&&(0===this.index?e=this.$slide.length-1:this.index===this.$slide.length-1&&(t=0)),this.$slide.removeClass("lg-next-slide lg-prev-slide"),e>-1&&this.$slide.eq(e).addClass("lg-prev-slide"),this.$slide.eq(t).addClass("lg-next-slide")},e.prototype.mousewheel=function(){var t=this;t.$outer.on("mousewheel.lg",function(e){e.deltaY&&(e.deltaY>0?t.goToPrevSlide():t.goToNextSlide(),e.preventDefault())})},e.prototype.closeGallery=function(){var e=this,i=!1;this.$outer.find(".lg-close").on("click.lg",function(){e.destroy()}),e.s.closable&&(e.$outer.on("mousedown.lg",function(e){i=!!(t(e.target).is(".lg-outer")||t(e.target).is(".lg-item ")||t(e.target).is(".lg-img-wrap"))}),e.$outer.on("mousemove.lg",function(){i=!1}),e.$outer.on("mouseup.lg",function(n){(t(n.target).is(".lg-outer")||t(n.target).is(".lg-item ")||t(n.target).is(".lg-img-wrap")&&i)&&(e.$outer.hasClass("lg-dragging")||e.destroy())}))},e.prototype.destroy=function(e){var i=this;e||(i.$el.trigger("onBeforeClose.lg"),t(window).scrollTop(i.prevScrollTop)),e&&(i.s.dynamic||this.$items.off("click.lg click.lgcustom"),t.removeData(i.el,"lightGallery")),this.$el.off(".lg.tm"),t.each(t.fn.lightGallery.modules,function(t){i.modules[t]&&i.modules[t].destroy()}),this.lGalleryOn=!1,clearTimeout(i.hideBartimeout),this.hideBartimeout=!1,t(window).off(".lg"),t("body").removeClass("lg-on lg-from-hash"),i.$outer&&i.$outer.removeClass("lg-visible"),t(".lg-backdrop").removeClass("in"),setTimeout(function(){i.$outer&&i.$outer.remove(),t(".lg-backdrop").remove(),e||i.$el.trigger("onCloseAfter.lg")},i.s.backdropDuration+50)},t.fn.lightGallery=function(i){return this.each(function(){if(t.data(this,"lightGallery"))try{t(this).data("lightGallery").init()}catch(t){console.error("lightGallery has not initiated properly")}else t.data(this,"lightGallery",new e(this,i))})},t.fn.lightGallery.modules={}}()});